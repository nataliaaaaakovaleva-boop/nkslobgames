<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ĞŸĞ¾Ñ‡Ñ‚Ğ°Ğ»ÑŒĞ¾Ğ½ Ğ‘ÑƒĞºĞ²Ğ° Ğ¸ ĞŸĞ¾Ñ‚ĞµÑ€ÑĞ½Ğ½Ñ‹Ğµ Ğ¡Ğ»Ğ¾Ğ²Ğ°</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Nunito+Sans:wght@400;600&display=swap');

  :root {
    --indigo:     #4A5A9A;
    --indigo-d:   #2E3A6E;
    --indigo-l:   #7B8EC8;
    --amber:      #E8A838;
    --amber-l:    #F5C870;
    --amber-d:    #C4882A;
    --cream:      #F5F0E8;
    --cream-d:    #E8E0D0;
    --terra:      #C4624A;
    --terra-l:    #E8886E;
    --green:      #5A9A6A;
    --green-l:    #88C878;
    --bg-sky:     #C8D8F0;
    --bg-sky2:    #E8F0F8;
    --shadow:     rgba(46,58,110,0.18);
    --font-main:  'Nunito', sans-serif;
    --font-body:  'Nunito Sans', sans-serif;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; touch-action: manipulation; }

  body {
    font-family: var(--font-main);
    background: linear-gradient(160deg, var(--bg-sky) 0%, var(--bg-sky2) 60%, #D8ECF8 100%);
    min-height: 100vh;
    overflow: hidden;
    user-select: none;
  }

  canvas { display: none; }

  /* â•â•â• SCREENS â•â•â• */
  .screen {
    position: fixed; inset: 0;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 16px;
    overflow: hidden;
  }
  .screen.active { display: flex; }

  /* â•â•â• CLOUDS BACKGROUND â•â•â• */
  .clouds {
    position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 0;
  }
  .cloud {
    position: absolute;
    background: rgba(255,255,255,0.7);
    border-radius: 50px;
    animation: cloudFloat linear infinite;
  }
  .cloud::before, .cloud::after {
    content: ''; position: absolute;
    background: rgba(255,255,255,0.7);
    border-radius: 50%;
  }
  @keyframes cloudFloat {
    from { transform: translateX(-200px); }
    to   { transform: translateX(calc(100vw + 200px)); }
  }

  /* â•â•â• START SCREEN â•â•â• */
  #startScreen {
    background: transparent;
    z-index: 10;
  }
  .start-card {
    background: linear-gradient(145deg, rgba(255,255,255,0.92), rgba(245,240,232,0.95));
    border-radius: 32px;
    padding: 32px 40px;
    box-shadow: 0 16px 48px var(--shadow), 0 2px 0 rgba(255,255,255,0.8) inset;
    max-width: 520px;
    width: 100%;
    text-align: center;
    position: relative;
    z-index: 1;
  }
  .game-title {
    font-size: clamp(22px, 5vw, 34px);
    font-weight: 900;
    color: var(--indigo-d);
    line-height: 1.2;
    margin-bottom: 6px;
  }
  .game-subtitle {
    font-size: clamp(13px, 2.5vw, 16px);
    color: var(--indigo);
    margin-bottom: 20px;
    font-weight: 600;
  }
  .mascot-area {
    margin: 0 auto 20px;
    width: 110px; height: 110px;
    position: relative;
  }
  .class-buttons {
    display: flex; gap: 12px; justify-content: center; margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .class-btn {
    background: linear-gradient(145deg, var(--indigo), var(--indigo-d));
    color: white;
    border: none;
    border-radius: 18px;
    padding: 14px 22px;
    font-family: var(--font-main);
    font-size: 15px;
    font-weight: 800;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(74,90,154,0.35), 0 1px 0 rgba(255,255,255,0.2) inset;
    transition: transform 0.12s, box-shadow 0.12s;
    min-width: 120px;
  }
  .class-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 24px rgba(74,90,154,0.45); }
  .class-btn:active { transform: translateY(1px); }
  .class-btn span { display: block; font-size: 11px; font-weight: 600; opacity: 0.85; margin-top: 2px; }

  .mute-btn {
    position: fixed; top: 14px; right: 14px; z-index: 1000;
    background: rgba(255,255,255,0.85);
    border: 2px solid var(--indigo-l);
    border-radius: 50%; width: 44px; height: 44px;
    font-size: 20px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 8px var(--shadow);
    transition: background 0.15s;
  }
  .mute-btn:hover { background: white; }

  /* â•â•â• GAME SCREEN â•â•â• */
  #gameScreen {
    z-index: 10;
    justify-content: flex-start;
    padding: 0;
  }

  /* HUD */
  .hud {
    width: 100%; display: flex; align-items: center;
    padding: 10px 16px; gap: 10px;
    background: rgba(255,255,255,0.88);
    box-shadow: 0 2px 12px rgba(46,58,110,0.1);
    position: relative; z-index: 20;
    flex-shrink: 0;
  }
  .hud-mascot { width: 42px; height: 42px; flex-shrink: 0; }
  .hud-title {
    font-size: clamp(12px, 2.5vw, 16px);
    font-weight: 800; color: var(--indigo-d);
    flex: 1; min-width: 0;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .book-progress {
    display: flex; gap: 4px; align-items: center;
  }
  .book-page {
    width: 18px; height: 24px;
    border-radius: 3px;
    border: 2px solid var(--indigo-l);
    background: var(--cream);
    transition: background 0.3s, border-color 0.3s;
    position: relative; overflow: hidden;
  }
  .book-page.done {
    background: linear-gradient(135deg, var(--amber-l), var(--amber));
    border-color: var(--amber-d);
  }
  .book-page.done::after {
    content: 'âœ“'; position: absolute; inset: 0;
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; color: white; font-weight: 900;
  }
  .class-badge {
    background: var(--amber);
    color: white; font-weight: 800; font-size: 12px;
    border-radius: 10px; padding: 3px 10px;
    flex-shrink: 0;
  }

  /* GAME AREA */
  .game-area {
    flex: 1; width: 100%;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    padding: 12px 16px;
    position: relative;
    overflow: hidden;
  }

  /* MINI-GAME PANELS */
  .mini-panel {
    background: rgba(255,255,255,0.93);
    border-radius: 28px;
    padding: clamp(16px, 3vw, 28px);
    box-shadow: 0 8px 32px var(--shadow);
    width: 100%; max-width: 640px;
    position: relative;
  }
  .mini-title {
    font-size: clamp(14px, 3vw, 20px);
    font-weight: 900; color: var(--indigo-d);
    text-align: center; margin-bottom: 6px;
  }
  .mini-instruction {
    font-size: clamp(12px, 2.2vw, 15px);
    color: var(--indigo); text-align: center;
    margin-bottom: 16px; font-weight: 600;
    line-height: 1.4;
  }

  /* KEYBOARD */
  .keyboard {
    display: grid;
    grid-template-columns: repeat(11, 1fr);
    gap: 4px; margin-top: 12px;
    max-width: 580px; margin-left: auto; margin-right: auto;
  }
  .key-btn {
    background: linear-gradient(145deg, var(--cream), var(--cream-d));
    border: 2px solid var(--indigo-l);
    border-radius: 10px;
    padding: 8px 2px;
    font-family: var(--font-main);
    font-size: clamp(13px, 2.2vw, 18px);
    font-weight: 700;
    color: var(--indigo-d);
    cursor: pointer;
    transition: transform 0.08s, background 0.08s;
    min-height: 44px;
    display: flex; align-items: center; justify-content: center;
  }
  .key-btn:hover { background: var(--indigo-l); color: white; transform: scale(1.08); }
  .key-btn:active { transform: scale(0.95); }
  .key-btn.backspace {
    grid-column: span 2;
    background: linear-gradient(145deg, #F0D0C8, #E8B8A8);
    color: var(--terra);
    border-color: var(--terra);
    font-size: 16px;
  }

  /* WORD INPUT DISPLAY */
  .word-display {
    display: flex; gap: 6px; justify-content: center;
    flex-wrap: wrap; margin: 12px 0;
  }
  .letter-cell {
    width: clamp(28px, 5vw, 44px);
    height: clamp(32px, 5.5vw, 48px);
    border-bottom: 3px solid var(--indigo);
    display: flex; align-items: center; justify-content: center;
    font-size: clamp(16px, 3.5vw, 26px);
    font-weight: 800; color: var(--indigo-d);
    position: relative;
    transition: border-color 0.2s;
  }
  .letter-cell.hint-letter { color: var(--amber-d); }
  .letter-cell.correct { color: var(--green); border-color: var(--green); }
  .letter-cell.wrong { color: var(--terra); border-color: var(--terra); }

  /* IMAGE AREA */
  .word-image {
    width: clamp(80px, 18vw, 130px);
    height: clamp(80px, 18vw, 130px);
    border-radius: 20px;
    background: var(--bg-sky2);
    display: flex; align-items: center; justify-content: center;
    font-size: clamp(44px, 10vw, 70px);
    margin: 0 auto 10px;
    box-shadow: 0 4px 16px var(--shadow);
    border: 3px solid var(--cream-d);
  }

  /* CHOICE BUTTONS (mini-game 2) */
  .choices {
    display: flex; flex-direction: column; gap: 10px; margin-top: 8px;
  }
  .choice-btn {
    background: linear-gradient(145deg, var(--cream), #EDE6D8);
    border: 2.5px solid var(--indigo-l);
    border-radius: 16px;
    padding: 14px 20px;
    font-family: var(--font-main);
    font-size: clamp(16px, 3.5vw, 22px);
    font-weight: 700;
    color: var(--indigo-d);
    cursor: pointer;
    letter-spacing: 1px;
    transition: transform 0.1s, background 0.1s, border-color 0.1s;
    text-align: center;
  }
  .choice-btn:hover { background: var(--bg-sky); border-color: var(--indigo); transform: scale(1.02); }
  .choice-btn.correct-ans { background: linear-gradient(135deg, #D0F0D8, #B8E8C8); border-color: var(--green); color: #2A6A3A; }
  .choice-btn.wrong-ans { background: linear-gradient(135deg, #F0D0C8, #E8B8A8); border-color: var(--terra); color: #7A2A1A; }

  /* MOSAIC (mini-game 3) */
  .mosaic-area {
    display: flex; flex-direction: column; gap: 14px; align-items: center;
  }
  .mosaic-target {
    display: flex; gap: 6px; flex-wrap: wrap; justify-content: center;
    min-height: 54px;
  }
  .mosaic-slot {
    width: clamp(34px, 6vw, 48px);
    height: clamp(34px, 6vw, 48px);
    border-radius: 10px;
    border: 2.5px dashed var(--indigo-l);
    background: var(--bg-sky2);
    display: flex; align-items: center; justify-content: center;
    font-size: clamp(16px, 3.2vw, 22px);
    font-weight: 800; color: var(--indigo-d);
    transition: border-color 0.2s, background 0.2s;
  }
  .mosaic-slot.filled { border-style: solid; border-color: var(--indigo); background: white; }
  .mosaic-slot.correct-slot { border-color: var(--green); background: #E8F8EC; color: var(--green); }
  .mosaic-slot.wrong-slot  { border-color: var(--terra); background: #F8E8E4; color: var(--terra); }
  .mosaic-letters {
    display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;
  }
  .mosaic-letter {
    width: clamp(38px, 7vw, 52px);
    height: clamp(38px, 7vw, 52px);
    border-radius: 12px;
    background: linear-gradient(145deg, var(--indigo-l), var(--indigo));
    color: white; font-weight: 800;
    font-size: clamp(17px, 3.5vw, 24px);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(74,90,154,0.3);
    transition: transform 0.1s, opacity 0.2s;
    border: none;
  }
  .mosaic-letter:hover { transform: scale(1.12); }
  .mosaic-letter:active { transform: scale(0.95); }
  .mosaic-letter.used { opacity: 0.3; pointer-events: none; }

  /* SORTING (mini-game 4) */
  .sort-boxes {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px; margin-top: 10px;
  }
  .sort-box {
    border-radius: 16px;
    border: 2.5px solid var(--indigo-l);
    padding: 10px;
    min-height: 80px;
    background: var(--bg-sky2);
    text-align: center;
    cursor: pointer;
    transition: border-color 0.15s, background 0.15s;
    position: relative;
  }
  .sort-box:hover { border-color: var(--indigo); background: rgba(123,142,200,0.15); }
  .sort-box.correct-box { border-color: var(--green); background: #E8F8EC; }
  .sort-box.wrong-box   { border-color: var(--terra); background: #F8E8E4; }
  .sort-box-icon { font-size: 28px; display: block; margin-bottom: 4px; }
  .sort-box-label {
    font-size: clamp(11px, 2vw, 14px);
    font-weight: 700; color: var(--indigo-d);
  }
  .sort-word {
    background: white;
    border: 2.5px solid var(--amber);
    border-radius: 12px;
    padding: 10px 20px;
    font-size: clamp(18px, 4vw, 26px);
    font-weight: 800; color: var(--indigo-d);
    text-align: center;
    margin: 0 auto 12px;
    display: inline-block;
    letter-spacing: 1px;
    box-shadow: 0 4px 12px rgba(232,168,56,0.25);
  }

  /* CHAIN (mini-game 6) */
  .chain-area {
    display: flex; flex-direction: column; gap: 12px; align-items: center;
  }
  .chain-display {
    display: flex; flex-wrap: wrap; gap: 6px; justify-content: center;
    max-height: 110px; overflow-y: auto;
  }
  .chain-word {
    background: linear-gradient(135deg, var(--indigo-l), var(--indigo));
    color: white; border-radius: 12px;
    padding: 5px 12px;
    font-size: clamp(12px, 2.2vw, 15px);
    font-weight: 700;
  }
  .chain-word .chain-arrow { color: var(--amber-l); margin-right: 4px; }
  .chain-hint {
    font-size: clamp(13px, 2.5vw, 17px);
    font-weight: 700; color: var(--indigo-d);
    text-align: center;
  }
  .chain-hint span { color: var(--amber-d); font-size: 1.3em; }

  /* FEEDBACK OVERLAY */
  .feedback {
    position: fixed; inset: 0; z-index: 100;
    display: none; flex-direction: column;
    align-items: center; justify-content: center;
    background: rgba(46,58,110,0.45);
    backdrop-filter: blur(4px);
  }
  .feedback.active { display: flex; }
  .feedback-card {
    background: white;
    border-radius: 28px;
    padding: 28px 36px;
    max-width: 380px; width: 90%;
    text-align: center;
    box-shadow: 0 16px 48px rgba(46,58,110,0.3);
    animation: popIn 0.25s cubic-bezier(0.34,1.56,0.64,1);
  }
  @keyframes popIn {
    from { transform: scale(0.7); opacity: 0; }
    to   { transform: scale(1); opacity: 1; }
  }
  .feedback-icon { font-size: 52px; margin-bottom: 10px; display: block; }
  .feedback-title { font-size: 22px; font-weight: 900; margin-bottom: 8px; }
  .feedback-text { font-size: 15px; color: #555; line-height: 1.5; margin-bottom: 18px; }
  .feedback-btn {
    background: linear-gradient(145deg, var(--indigo), var(--indigo-d));
    color: white; border: none; border-radius: 16px;
    padding: 12px 32px;
    font-family: var(--font-main); font-size: 16px; font-weight: 800;
    cursor: pointer;
    box-shadow: 0 4px 16px rgba(74,90,154,0.4);
    transition: transform 0.1s;
  }
  .feedback-btn:active { transform: scale(0.96); }

  /* MINI-GAME TRANSITION */
  .transition-overlay {
    position: fixed; inset: 0; z-index: 90;
    display: none; flex-direction: column;
    align-items: center; justify-content: center;
    background: linear-gradient(160deg, var(--indigo-d), #1A2448);
  }
  .transition-overlay.active { display: flex; }
  .transition-text {
    color: white; font-size: clamp(18px, 4vw, 28px); font-weight: 900;
    text-align: center; margin-top: 20px;
    text-shadow: 0 2px 8px rgba(0,0,0,0.3);
  }
  .transition-sub {
    color: var(--amber-l); font-size: clamp(13px, 2.5vw, 18px);
    font-weight: 600; margin-top: 8px; text-align: center;
  }

  /* REPORT SCREEN */
  #reportScreen {
    z-index: 10;
    background: linear-gradient(160deg, var(--bg-sky) 0%, var(--bg-sky2) 100%);
    overflow-y: auto;
    padding: 20px 16px;
    justify-content: flex-start;
  }
  .report-card {
    background: white;
    border-radius: 28px;
    padding: 24px;
    max-width: 600px; width: 100%;
    box-shadow: 0 8px 32px var(--shadow);
    margin-bottom: 16px;
  }
  .report-title {
    font-size: clamp(18px, 4vw, 26px); font-weight: 900;
    color: var(--indigo-d); text-align: center; margin-bottom: 4px;
  }
  .report-sub { text-align: center; color: var(--indigo); font-size: 14px; margin-bottom: 16px; }
  .report-mini {
    background: var(--bg-sky2);
    border-radius: 16px; padding: 12px 16px; margin-bottom: 10px;
  }
  .report-mini-title {
    font-weight: 800; color: var(--indigo-d); font-size: 14px; margin-bottom: 6px;
  }
  .stat-row {
    display: flex; justify-content: space-between; align-items: center;
    font-size: 13px; color: #555; margin-bottom: 3px;
  }
  .stat-val { font-weight: 700; color: var(--indigo-d); }
  .stat-bar {
    height: 8px; background: var(--cream-d); border-radius: 4px;
    overflow: hidden; margin-top: 4px;
  }
  .stat-bar-fill {
    height: 100%; background: linear-gradient(90deg, var(--amber), var(--green));
    border-radius: 4px; transition: width 0.8s;
  }
  .error-words {
    font-size: 12px; color: var(--terra); font-weight: 600; margin-top: 4px;
  }
  .report-btn {
    background: linear-gradient(145deg, var(--amber), var(--amber-d));
    color: white; border: none; border-radius: 16px;
    padding: 14px 32px; font-family: var(--font-main);
    font-size: 16px; font-weight: 800; cursor: pointer;
    box-shadow: 0 4px 16px rgba(232,168,56,0.4);
    width: 100%; margin-top: 8px;
    transition: transform 0.1s;
  }
  .report-btn:active { transform: scale(0.97); }

  /* PROGRESS BAR */
  .mini-progress {
    width: 100%; max-width: 640px;
    margin-bottom: 10px;
    display: flex; align-items: center; gap: 8px;
  }
  .mini-progress-label { font-size: 12px; font-weight: 700; color: var(--indigo); min-width: 50px; }
  .mini-progress-bar { flex: 1; height: 8px; background: rgba(255,255,255,0.6); border-radius: 4px; overflow: hidden; }
  .mini-progress-fill { height: 100%; background: linear-gradient(90deg, var(--amber-l), var(--amber)); border-radius: 4px; transition: width 0.4s; }
  .mini-progress-count { font-size: 12px; font-weight: 700; color: var(--indigo-d); min-width: 40px; text-align: right; }

  /* HINTS DISPLAY */
  .hint-display {
    font-size: 13px; color: var(--amber-d); font-weight: 600;
    text-align: center; min-height: 20px; margin-top: 6px;
  }
  .attempts-dots { display: flex; gap: 6px; justify-content: center; margin: 6px 0; }
  .attempt-dot {
    width: 12px; height: 12px; border-radius: 50%;
    background: var(--indigo-l); transition: background 0.2s;
  }
  .attempt-dot.used { background: var(--terra); }

  /* DICTANT - audio visual */
  .audio-btn {
    background: linear-gradient(145deg, var(--indigo), var(--indigo-d));
    color: white; border: none; border-radius: 50%;
    width: 72px; height: 72px;
    font-size: 32px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 6px 20px rgba(74,90,154,0.4);
    margin: 0 auto 14px;
    transition: transform 0.1s;
    animation: pulse 2s ease-in-out infinite;
  }
  .audio-btn:active { transform: scale(0.93); }
  @keyframes pulse {
    0%,100% { box-shadow: 0 6px 20px rgba(74,90,154,0.4); }
    50% { box-shadow: 0 6px 30px rgba(74,90,154,0.7), 0 0 0 8px rgba(74,90,154,0.1); }
  }

  /* MASCOT SVG AREA */
  .mascot-svg { width: 100%; height: 100%; }

  /* CONFETTI */
  .confetti-piece {
    position: fixed;
    width: 10px; height: 10px;
    border-radius: 2px;
    pointer-events: none;
    z-index: 200;
    animation: confettiFall linear forwards;
  }
  @keyframes confettiFall {
    0%   { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }

  /* SHAKE */
  .shake { animation: shake 0.35s ease-in-out; }
  @keyframes shake {
    0%,100% { transform: translateX(0); }
    20% { transform: translateX(-8px); }
    40% { transform: translateX(8px); }
    60% { transform: translateX(-6px); }
    80% { transform: translateX(6px); }
  }

  /* SKIP TUTORIAL BTN */
  .skip-btn {
    font-size: 12px; color: var(--indigo-l); font-weight: 600;
    background: none; border: none; cursor: pointer;
    text-decoration: underline; margin-top: 6px; font-family: var(--font-main);
  }

  /* HIDDEN */
  .hidden { display: none !important; }

  /* SCROLLBAR */
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--indigo-l); border-radius: 3px; }
</style>
</head>
<body>

<!-- MUTE BUTTON -->
<button class="mute-btn" id="muteBtn" title="Ğ—Ğ²ÑƒĞº Ğ²ĞºĞ»/Ğ²Ñ‹ĞºĞ»">ğŸ”Š</button>

<!-- CLOUDS -->
<div class="clouds" id="clouds"></div>

<!-- â•â•â• START SCREEN â•â•â• -->
<div class="screen active" id="startScreen">
  <div class="start-card">
    <div class="game-title">ğŸ“¬ ĞŸĞ¾Ñ‡Ñ‚Ğ°Ğ»ÑŒĞ¾Ğ½ Ğ‘ÑƒĞºĞ²Ğ°</div>
    <div class="game-subtitle">Ğ¸ ĞŸĞ¾Ñ‚ĞµÑ€ÑĞ½Ğ½Ñ‹Ğµ Ğ¡Ğ»Ğ¾Ğ²Ğ°</div>
    <div class="mascot-area">
      <svg class="mascot-svg" viewBox="0 0 110 110" xmlns="http://www.w3.org/2000/svg" id="startOwl">
        <!-- Body -->
        <ellipse cx="55" cy="68" rx="30" ry="34" fill="#7B8EC8"/>
        <ellipse cx="55" cy="70" rx="22" ry="26" fill="#F5F0E8"/>
        <!-- Wings -->
        <ellipse cx="28" cy="72" rx="14" ry="22" fill="#4A5A9A" transform="rotate(-15,28,72)"/>
        <ellipse cx="82" cy="72" rx="14" ry="22" fill="#4A5A9A" transform="rotate(15,82,72)"/>
        <!-- Head -->
        <ellipse cx="55" cy="38" rx="26" ry="24" fill="#7B8EC8"/>
        <!-- Ears -->
        <polygon points="36,18 30,6 44,14" fill="#4A5A9A"/>
        <polygon points="74,18 80,6 66,14" fill="#4A5A9A"/>
        <!-- Face -->
        <ellipse cx="45" cy="38" rx="10" ry="11" fill="white"/>
        <ellipse cx="65" cy="38" rx="10" ry="11" fill="white"/>
        <circle cx="45" cy="39" r="7" fill="#2E3A6E"/>
        <circle cx="65" cy="39" r="7" fill="#2E3A6E"/>
        <circle cx="43" cy="37" r="2.5" fill="white"/>
        <circle cx="63" cy="37" r="2.5" fill="white"/>
        <!-- Beak -->
        <polygon points="55,44 50,50 60,50" fill="#E8A838"/>
        <!-- Mail bag -->
        <rect x="30" y="78" width="26" height="20" rx="5" fill="#E8A838"/>
        <rect x="32" y="74" width="22" height="8" rx="3" fill="#C4882A"/>
        <text x="37" y="91" font-size="10" fill="white" font-weight="900">Ğ Ğ‘ Ğ’</text>
      </svg>
    </div>
    <p style="font-size:14px;color:#666;margin-bottom:16px;font-weight:600;line-height:1.5">
      Ğ—Ğ»Ğ¾Ğ´ĞµĞ¹ ĞšĞ»ÑĞºÑÑƒÑ Ñ€Ğ°ÑÑÑ‹Ğ¿Ğ°Ğ» Ğ²ÑĞµ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ°!<br>Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸ ĞšĞ½Ğ¸Ğ³Ñƒ Ğ¯Ğ·Ñ‹ĞºĞ° â€” Ğ²ÑĞµ 6 Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğ¹!
    </p>
    <div class="class-buttons">
      <button class="class-btn" onclick="startGame()" style="min-width:200px;font-size:17px;padding:18px 32px">
        â–¶ ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ¸Ğ³Ñ€Ñƒ<span>1â€“3 ĞºĞ»Ğ°ÑÑ Â· Ğ²ÑĞµ ÑĞ»Ğ¾Ğ²Ğ°</span>
      </button>
    </div>
    <p style="font-size:11px;color:#999;font-weight:600">Ğ£ĞœĞš Â«Ğ¨ĞºĞ¾Ğ»Ğ° Ğ Ğ¾ÑÑĞ¸Ğ¸Â» Â· 1â€“3 ĞºĞ»Ğ°ÑÑ Â· 6 Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğ¹ Â· 20â€“25 Ğ¼Ğ¸Ğ½</p>
  </div>
</div>

<!-- â•â•â• GAME SCREEN â•â•â• -->
<div class="screen" id="gameScreen">
  <!-- HUD -->
  <div class="hud">
    <svg class="hud-mascot" viewBox="0 0 42 42" xmlns="http://www.w3.org/2000/svg" id="hudOwl">
      <ellipse cx="21" cy="24" rx="13" ry="14" fill="#7B8EC8"/>
      <ellipse cx="21" cy="15" rx="12" ry="11" fill="#7B8EC8"/>
      <ellipse cx="16" cy="15" rx="5" ry="5.5" fill="white"/>
      <ellipse cx="26" cy="15" rx="5" ry="5.5" fill="white"/>
      <circle cx="16" cy="16" r="3.5" fill="#2E3A6E"/>
      <circle cx="26" cy="16" r="3.5" fill="#2E3A6E"/>
      <circle cx="15" cy="15" r="1.2" fill="white"/>
      <circle cx="25" cy="15" r="1.2" fill="white"/>
      <polygon points="21,20 18.5,23 23.5,23" fill="#E8A838"/>
      <ellipse cx="21" cy="26" rx="9" ry="10" fill="#F5F0E8"/>
      <polygon points="10,8 7,2 15,6" fill="#4A5A9A"/>
      <polygon points="32,8 35,2 27,6" fill="#4A5A9A"/>
    </svg>
    <div class="hud-title" id="hudTitle">Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 1: Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚</div>
    <div class="book-progress" id="bookProgress"></div>
    <div class="class-badge" id="classBadge">1 ĞºĞ»</div>
  </div>

  <!-- GAME AREA -->
  <div class="game-area" id="gameArea">
    <!-- Mini-game content injected here -->
  </div>

  <!-- PROGRESS -->
  <div class="mini-progress" id="miniProgress" style="padding:0 16px 10px;">
    <span class="mini-progress-label" id="progressLabel">1/10</span>
    <div class="mini-progress-bar"><div class="mini-progress-fill" id="progressFill" style="width:0%"></div></div>
    <span class="mini-progress-count" id="progressScore">â˜… 0</span>
  </div>
</div>

<!-- â•â•â• FEEDBACK OVERLAY â•â•â• -->
<div class="feedback" id="feedbackOverlay">
  <div class="feedback-card">
    <span class="feedback-icon" id="feedbackIcon">âœ…</span>
    <div class="feedback-title" id="feedbackTitle">ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾!</div>
    <div class="feedback-text" id="feedbackText">ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾!</div>
    <button class="feedback-btn" id="feedbackBtn" onclick="closeFeedback()">Ğ”Ğ°Ğ»ÑŒÑˆĞµ â†’</button>
  </div>
</div>

<!-- â•â•â• TRANSITION â•â•â• -->
<div class="transition-overlay" id="transitionOverlay">
  <svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <ellipse cx="50" cy="62" rx="28" ry="32" fill="#7B8EC8" opacity="0.9"/>
    <ellipse cx="50" cy="38" rx="24" ry="22" fill="#7B8EC8" opacity="0.9"/>
    <ellipse cx="40" cy="36" rx="9" ry="10" fill="white"/>
    <ellipse cx="60" cy="36" rx="9" ry="10" fill="white"/>
    <circle cx="40" cy="37" r="6" fill="#1A2448"/>
    <circle cx="60" cy="37" r="6" fill="#1A2448"/>
    <circle cx="38" cy="35" r="2" fill="white"/>
    <circle cx="58" cy="35" r="2" fill="white"/>
    <polygon points="50,44 46,50 54,50" fill="#E8A838"/>
    <polygon points="30,16 24,4 40,12" fill="#4A5A9A"/>
    <polygon points="70,16 76,4 60,12" fill="#4A5A9A"/>
  </svg>
  <div class="transition-text" id="transitionTitle">Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¾!</div>
  <div class="transition-sub" id="transitionSub">Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ² ĞšĞ½Ğ¸Ğ³Ñƒ Ğ¯Ğ·Ñ‹ĞºĞ°</div>
</div>

<!-- â•â•â• REPORT SCREEN â•â•â• -->
<div class="screen" id="reportScreen">
  <div class="report-card">
    <div class="report-title">ğŸ“– ĞšĞ½Ğ¸Ğ³Ğ° Ğ¯Ğ·Ñ‹ĞºĞ° Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°!</div>
    <div class="report-sub" id="reportSubtitle">ĞÑ‚Ñ‡Ñ‘Ñ‚ Ğ´Ğ»Ñ ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»Ñ</div>
    <div id="reportContent"></div>
    <button class="report-btn" onclick="showScreen('startScreen')">ğŸ  ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ</button>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ğ¡Ğ›ĞĞ’ĞĞ ĞĞ«Ğ• Ğ¡Ğ›ĞĞ’Ğ Ğ£ĞœĞš Â«Ğ¨ĞºĞ¾Ğ»Ğ° Ğ Ğ¾ÑÑĞ¸Ğ¸Â»
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const WORDS = {
  1: [
    { word: 'Ğ²Ğ¾Ñ€Ğ¾Ğ½Ğ°',       emoji: 'ğŸ¦', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'Ğ§Ñ‘Ñ€Ğ½Ğ¾-Ğ±ĞµĞ»Ğ°Ñ Ğ¿Ñ‚Ğ¸Ñ†Ğ°' },
    { word: 'Ğ²Ğ¾Ñ€Ğ¾Ğ±ĞµĞ¹',      emoji: 'ğŸ¤', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'ĞœĞ°Ğ»ĞµĞ½ÑŒĞºĞ°Ñ ÑĞµÑ€Ğ°Ñ Ğ¿Ñ‚Ğ¸Ñ†Ğ°' },
    { word: 'ÑĞ¾Ğ±Ğ°ĞºĞ°',        emoji: 'ğŸ•', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'Ğ’ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ´Ñ€ÑƒĞ³ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞºĞ°' },
    { word: 'ĞºĞ¾Ñ€Ğ¾Ğ²Ğ°',        emoji: 'ğŸ„', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'Ğ”Ğ°Ñ‘Ñ‚ Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾' },
    { word: 'Ğ¼ĞµĞ´Ğ²ĞµĞ´ÑŒ',       emoji: 'ğŸ»', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'Ğ›ÑĞ±Ğ¸Ñ‚ Ğ¼Ñ‘Ğ´ Ğ¸ Ğ¼Ğ°Ğ»Ğ¸Ğ½Ñƒ' },
    { word: 'Ğ·Ğ°ÑÑ†',          emoji: 'ğŸ°', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'ĞŸÑ€Ñ‹Ğ³Ğ°ĞµÑ‚, Ğ±ĞµĞ»Ñ‹Ğ¹ Ğ·Ğ¸Ğ¼Ğ¾Ğ¹' },
    { word: 'Ğ»Ğ¸ÑĞ¸Ñ†Ğ°',        emoji: 'ğŸ¦Š', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'Ğ Ñ‹Ğ¶Ğ°Ñ Ñ…Ğ¸Ñ‚Ñ€Ğ°Ñ' },
    { word: 'Ğ¿ĞµÑ‚ÑƒÑ…',         emoji: 'ğŸ“', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'ĞšÑ€Ğ¸Ñ‡Ğ¸Ñ‚ Ğ¿Ğ¾ ÑƒÑ‚Ñ€Ğ°Ğ¼' },
    { word: 'ÑƒÑ‡ĞµĞ½Ğ¸Ğº',        emoji: 'ğŸ‘¦', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: 'Ğ£Ñ‡Ğ¸Ñ‚ÑÑ Ğ² ÑˆĞºĞ¾Ğ»Ğµ' },
    { word: 'ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»ÑŒ',       emoji: 'ğŸ‘©â€ğŸ«', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: 'Ğ£Ñ‡Ğ¸Ñ‚ Ğ´ĞµÑ‚ĞµĞ¹' },
    { word: 'Ğ¿ĞµĞ½Ğ°Ğ»',         emoji: 'ğŸ–Šï¸', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: 'Ğ”Ğ»Ñ ĞºĞ°Ñ€Ğ°Ğ½Ğ´Ğ°ÑˆĞµĞ¹' },
    { word: 'ĞºĞ°Ñ€Ğ°Ğ½Ğ´Ğ°Ñˆ',      emoji: 'âœï¸', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: 'Ğ˜Ğ¼ Ñ€Ğ¸ÑÑƒÑÑ‚' },
    { word: 'Ñ‚ĞµÑ‚Ñ€Ğ°Ğ´ÑŒ',       emoji: 'ğŸ““', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: 'ĞŸĞ¸ÑˆÑƒÑ‚ Ğ² Ğ½ĞµĞ¹' },
    { word: 'ÑĞ·Ñ‹Ğº',          emoji: 'ğŸ’¬', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',    hint: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹ ...' },
    { word: 'Ğ Ğ¾ÑÑĞ¸Ñ',         emoji: 'ğŸ‡·ğŸ‡º', category: 'Ñ€Ğ¾Ğ´Ğ¸Ğ½Ğ°',    hint: 'ĞĞ°ÑˆĞ° ÑÑ‚Ñ€Ğ°Ğ½Ğ°' },
    { word: 'ĞœĞ¾ÑĞºĞ²Ğ°',         emoji: 'ğŸ™ï¸', category: 'Ñ€Ğ¾Ğ´Ğ¸Ğ½Ğ°',    hint: 'Ğ¡Ñ‚Ğ¾Ğ»Ğ¸Ñ†Ğ° Ğ Ğ¾ÑÑĞ¸Ğ¸' },
    { word: 'Ñ€ĞµĞ±ÑÑ‚Ğ°',         emoji: 'ğŸ‘«', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',    hint: 'Ğ”ĞµÑ‚Ğ¸, Ğ´Ñ€ÑƒĞ·ÑŒÑ' },
    { word: 'Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾',        emoji: 'ğŸ‘', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',    hint: 'Ğ’ÑÑ‘ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾!' },
    { word: 'Ğ¾Ğ´Ğ¸Ğ½',          emoji: '1ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 1' },
    { word: 'Ğ´Ğ²Ğ°',            emoji: '2ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 2' },
    { word: 'Ñ‚Ñ€Ğ¸',            emoji: '3ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 3' },
    { word: 'Ñ‡ĞµÑ‚Ñ‹Ñ€Ğµ',         emoji: '4ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 4' },
    { word: 'Ğ¿ÑÑ‚ÑŒ',           emoji: '5ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 5' },
    { word: 'ÑĞµĞ¼ÑŒ',           emoji: '7ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 7' },
    { word: 'Ğ²Ğ¾ÑĞµĞ¼ÑŒ',         emoji: '8ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 8' },
    { word: 'Ğ´ĞµĞ²ÑÑ‚ÑŒ',         emoji: '9ï¸âƒ£', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 9' },
    { word: 'Ğ´ĞµÑÑÑ‚ÑŒ',         emoji: 'ğŸ”Ÿ', category: 'Ñ†Ğ¸Ñ„Ñ€Ñ‹',     hint: 'Ğ§Ğ¸ÑĞ»Ğ¾ 10' },
    { word: 'ĞºĞ»Ğ°ÑÑ',          emoji: 'ğŸ«', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: 'Ğ£Ñ‡ĞµĞ±Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°' },
    { word: 'Ñ€ÑƒÑÑĞºĞ¸Ğ¹',        emoji: 'ğŸ“š', category: 'ÑˆĞºĞ¾Ğ»Ğ°',     hint: '... ÑĞ·Ñ‹Ğº' },
    { word: 'ÑĞ¾Ñ€Ğ¾ĞºĞ°',         emoji: 'ğŸ¦', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ',  hint: 'Ğ‘ĞµĞ»Ğ¾Ğ±Ğ¾ĞºĞ°-Ğ¿Ñ‚Ğ¸Ñ†Ğ°' },
  ],
  2: [
    { word: 'Ğ°Ğ²Ñ‚Ğ¾Ğ±ÑƒÑ',       emoji: 'ğŸšŒ', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ“Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚' },
    { word: 'Ğ°Ğ´Ñ€ĞµÑ',         emoji: 'ğŸ ', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ“Ğ´Ğµ Ñ‚Ñ‹ Ğ¶Ğ¸Ğ²Ñ‘ÑˆÑŒ' },
    { word: 'Ğ°Ğ»Ğ»ĞµÑ',         emoji: 'ğŸŒ³', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ”Ğ¾Ñ€Ğ¾Ğ¶ĞºĞ° Ñ Ğ´ĞµÑ€ĞµĞ²ÑŒÑĞ¼Ğ¸' },
    { word: 'Ğ±ĞµÑ€Ñ‘Ğ·Ğ°',        emoji: 'ğŸŒ²', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ‘ĞµĞ»Ğ¾Ğµ Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ´ĞµÑ€ĞµĞ²Ğ¾' },
    { word: 'Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ°',    emoji: 'ğŸ“š', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞœĞ½Ğ¾Ğ³Ğ¾ ĞºĞ½Ğ¸Ğ³ Ğ·Ğ´ĞµÑÑŒ' },
    { word: 'Ğ±Ğ¸Ğ»ĞµÑ‚',         emoji: 'ğŸ«', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞĞ° Ğ°Ğ²Ñ‚Ğ¾Ğ±ÑƒÑ Ğ¸Ğ»Ğ¸ ĞºĞ¸Ğ½Ğ¾' },
    { word: 'Ğ²ĞµÑ‚ĞµÑ€',         emoji: 'ğŸ’¨', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ”ÑƒĞµÑ‚, ÑˆĞµĞ»ĞµÑÑ‚Ğ¸Ñ‚' },
    { word: 'Ğ²Ğ¾ĞºĞ·Ğ°Ğ»',        emoji: 'ğŸš‚', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞÑ‚ÑÑĞ´Ğ° ĞµĞ´ÑƒÑ‚ Ğ¿Ğ¾ĞµĞ·Ğ´Ğ°' },
    { word: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',         emoji: 'ğŸ™ï¸', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ğ½Ğ°ÑĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğ¹ Ğ¿ÑƒĞ½ĞºÑ‚' },
    { word: 'Ğ´ĞµÑ€ĞµĞ²Ğ½Ñ',       emoji: 'ğŸ¡', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞœĞ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğ¹ Ğ¿Ğ¾ÑÑ‘Ğ»Ğ¾Ğº' },
    { word: 'Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğ°',        emoji: 'ğŸ›£ï¸', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞŸĞ¾ Ğ½ĞµĞ¹ ĞµĞ´ÑƒÑ‚' },
    { word: 'Ğ·Ğ°Ğ²Ğ¾Ğ´',         emoji: 'ğŸ­', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ¢Ğ°Ğ¼ Ğ´ĞµĞ»Ğ°ÑÑ‚ Ğ²ĞµÑ‰Ğ¸' },
    { word: 'Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°',        emoji: 'ğŸ“…', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞŸĞ¾ÑĞ»Ğµ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ' },
    { word: 'ĞºĞ°Ğ¿ÑƒÑÑ‚Ğ°',       emoji: 'ğŸ¥¬', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'Ğ—ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ Ğ»Ğ¸ÑÑ‚Ğ¾Ğ²Ğ¾Ğ¹ Ğ¾Ğ²Ğ¾Ñ‰' },
    { word: 'ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½Ğ°',       emoji: 'ğŸ–¼ï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞĞ°Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ» Ñ…ÑƒĞ´Ğ¾Ğ¶Ğ½Ğ¸Ğº' },
    { word: 'ĞºĞ°Ñ€Ñ‚Ğ¾Ñ„ĞµĞ»ÑŒ',     emoji: 'ğŸ¥”', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'Ğ–Ğ°Ñ€ĞµĞ½Ñ‹Ğ¹ Ğ¸Ğ»Ğ¸ Ğ²Ğ°Ñ€Ñ‘Ğ½Ñ‹Ğ¹' },
    { word: 'ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°',      emoji: 'ğŸ ', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ”Ğ¾Ğ¼ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ´Ğ¾Ğ¼Ğ°' },
    { word: 'ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°',       emoji: 'ğŸ›‹ï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ§Ğ°ÑÑ‚ÑŒ ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ñ‹' },
    { word: 'Ğ»Ğ¾Ğ¿Ğ°Ñ‚Ğ°',        emoji: 'â›ï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞšĞ¾Ğ¿Ğ°ÑÑ‚ Ğ·ĞµĞ¼Ğ»Ñ' },
    { word: 'Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½',       emoji: 'ğŸ›’', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ¢Ğ°Ğ¼ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°ÑÑ‚' },
    { word: 'Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ°',        emoji: 'ğŸš—', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ•Ğ´ĞµÑ‚ Ğ¿Ğ¾ Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğµ' },
    { word: 'Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾',        emoji: 'ğŸ¥›', category: 'Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹', hint: 'Ğ‘ĞµĞ»Ñ‹Ğ¹ Ğ½Ğ°Ğ¿Ğ¸Ñ‚Ğ¾Ğº Ğ¾Ñ‚ ĞºĞ¾Ñ€Ğ¾Ğ²Ñ‹' },
    { word: 'Ğ¼Ğ¾Ñ€ĞºĞ¾Ğ²ÑŒ',       emoji: 'ğŸ¥•', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'ĞÑ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹ Ğ¾Ğ²Ğ¾Ñ‰' },
    { word: 'Ğ½Ğ°Ñ€Ğ¾Ğ´',         emoji: 'ğŸ‘¥', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞœĞ½Ğ¾Ğ³Ğ¾ Ğ»ÑĞ´ĞµĞ¹' },
    { word: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',         emoji: 'ğŸ¥¦', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'ĞœĞ¾Ñ€ĞºĞ¾Ğ²ÑŒ, ĞºĞ°Ğ¿ÑƒÑÑ‚Ğ°...' },
    { word: 'Ğ¾Ğ³Ğ¾Ñ€Ğ¾Ğ´',        emoji: 'ğŸŒ±', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ Ğ°ÑÑ‚ÑƒÑ‚ Ğ¾Ğ²Ğ¾Ñ‰Ğ¸' },
    { word: 'Ğ¾Ğ³ÑƒÑ€ĞµÑ†',        emoji: 'ğŸ¥’', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'Ğ—ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ Ğ¾Ğ²Ğ¾Ñ‰' },
    { word: 'Ğ¾Ğ´Ğ½Ğ°Ğ¶Ğ´Ñ‹',       emoji: 'â­', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ’ Ğ¾Ğ´Ğ½Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ' },
    { word: 'Ğ¾Ñ€ĞµÑ…',          emoji: 'ğŸŒ°', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ¢Ğ²Ñ‘Ñ€Ğ´Ñ‹Ğ¹, Ğ² ÑĞºĞ¾Ñ€Ğ»ÑƒĞ¿Ğµ' },
    { word: 'Ğ¿ĞµÑ‚Ñ€ÑƒÑˆĞºĞ°',      emoji: 'ğŸŒ¿', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'Ğ—ĞµĞ»Ñ‘Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ°' },
    { word: 'Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ°',        emoji: 'â˜ï¸', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ”Ğ¾Ğ¶Ğ´ÑŒ, ÑĞ¾Ğ»Ğ½Ñ†Ğµ...' },
    { word: 'Ğ¿Ğ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€',       emoji: 'ğŸ…', category: 'Ğ¾Ğ²Ğ¾Ñ‰Ğ¸',    hint: 'ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹ ÑĞ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ¾Ğ²Ğ¾Ñ‰' },
    { word: 'Ğ¿Ğ¾ÑÑƒĞ´Ğ°',        emoji: 'ğŸ½ï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ¢Ğ°Ñ€ĞµĞ»ĞºĞ¸ Ğ¸ ĞºÑ€ÑƒĞ¶ĞºĞ¸' },
    { word: 'Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°',        emoji: 'ğŸ’¼', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ¢Ñ€ÑƒĞ´' },
    { word: 'ÑĞ¾Ğ±Ğ°ĞºĞ°',        emoji: 'ğŸ•', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ', hint: 'Ğ’ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ´Ñ€ÑƒĞ³' },
    { word: 'ÑĞ¾Ğ»Ğ´Ğ°Ñ‚',        emoji: 'ğŸª–', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ—Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ñƒ' },
    { word: 'ÑƒĞ¶Ğ¸Ğ½',          emoji: 'ğŸ½ï¸', category: 'Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹', hint: 'Ğ•Ğ´Ğ° Ğ²ĞµÑ‡ĞµÑ€Ğ¾Ğ¼' },
    { word: 'ÑƒÑ€Ğ¾Ğ¶Ğ°Ğ¹',        emoji: 'ğŸŒ¾', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ§Ñ‚Ğ¾ Ğ²Ñ‹Ñ€Ğ°ÑÑ‚Ğ¸Ğ»Ğ¸' },
    { word: 'ÑƒÑ‡ĞµĞ½Ğ¸Ñ†Ğ°',       emoji: 'ğŸ‘§', category: 'ÑˆĞºĞ¾Ğ»Ğ°',    hint: 'Ğ”ĞµĞ²Ğ¾Ñ‡ĞºĞ° Ğ² ÑˆĞºĞ¾Ğ»Ğµ' },
    { word: 'ÑƒĞ»Ğ¸Ñ†Ğ°',         emoji: 'ğŸ™ï¸', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞœĞµĞ¶Ğ´Ñƒ Ğ´Ğ¾Ğ¼Ğ°Ğ¼Ğ¸' },
  ],
  3: [
    { word: 'Ğ°Ğ¿Ñ‚ĞµĞºĞ°',        emoji: 'ğŸ’Š', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞŸÑ€Ğ¾Ğ´Ğ°ÑÑ‚ Ğ»ĞµĞºĞ°Ñ€ÑÑ‚Ğ²Ğ°' },
    { word: 'Ğ±ĞµÑ€ĞµĞ³',         emoji: 'ğŸ–ï¸', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞšÑ€Ğ°Ğ¹ Ñ€ĞµĞºĞ¸ Ğ¸Ğ»Ğ¸ Ğ¼Ğ¾Ñ€Ñ' },
    { word: 'Ğ±Ğ¾Ğ»Ğ¾Ñ‚Ğ¾',        emoji: 'ğŸŒ¿', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ¡Ñ‹Ñ€Ğ¾Ğµ Ñ‚Ğ¾Ğ¿ĞºĞ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾' },
    { word: 'Ğ²Ğ°Ğ³Ğ¾Ğ½',         emoji: 'ğŸšƒ', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'Ğ§Ğ°ÑÑ‚ÑŒ Ğ¿Ğ¾ĞµĞ·Ğ´Ğ°' },
    { word: 'Ğ²Ğ°Ğ»ĞµĞ½ĞºĞ¸',       emoji: 'ğŸ¥¾', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ—Ğ¸Ğ¼Ğ½ÑÑ Ğ²Ğ¾Ğ¹Ğ»Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¾Ğ±ÑƒĞ²ÑŒ' },
    { word: 'Ğ²ĞµÑĞ½Ğ°',         emoji: 'ğŸŒ¸', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ¸Ğ¼Ñ‹' },
    { word: 'Ğ²Ğ¾ÑÑ‚Ğ¾Ğº',        emoji: 'ğŸ§­', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° ÑĞ²ĞµÑ‚Ğ°, Ğ³Ğ´Ğµ Ñ€Ğ°ÑÑĞ²ĞµÑ‚' },
    { word: 'Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚',      emoji: 'ğŸŒ…', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ›Ğ¸Ğ½Ğ¸Ñ Ğ½ĞµĞ±Ğ° Ğ¸ Ğ·ĞµĞ¼Ğ»Ğ¸' },
    { word: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ğ¾Ğµ',      emoji: 'ğŸ¾', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ', hint: 'Ğ—Ğ²ĞµÑ€ÑŒ Ğ¸Ğ»Ğ¸ Ğ¿Ñ‚Ğ¸Ñ†Ğ°' },
    { word: 'Ğ·Ğ°Ğ¿Ğ°Ğ´',         emoji: 'ğŸ§­', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° ÑĞ²ĞµÑ‚Ğ°, Ğ³Ğ´Ğµ Ğ·Ğ°ĞºĞ°Ñ‚' },
    { word: 'Ğ·Ğ´ĞµÑÑŒ',         emoji: 'ğŸ“', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ’ ÑÑ‚Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ' },
    { word: 'Ğ¸Ğ½ĞµĞ¹',          emoji: 'â„ï¸', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ‘ĞµĞ»Ñ‹Ğ¹ Ğ·Ğ¸Ğ¼Ğ½Ğ¸Ğ¹ Ğ½Ğ°Ğ»Ñ‘Ñ‚' },
    { word: 'Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ¾',     emoji: 'ğŸ¨', category: 'ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°', hint: 'ĞœÑƒĞ·Ñ‹ĞºĞ°, Ğ¶Ğ¸Ğ²Ğ¾Ğ¿Ğ¸ÑÑŒ...' },
    { word: 'ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ',     emoji: 'ğŸ“…', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ¢Ğ°Ğ¼ Ğ²ÑĞµ Ğ´Ğ½Ğ¸ Ğ¸ Ğ¼ĞµÑÑÑ†Ñ‹' },
    { word: 'ĞºĞ¾Ñ€Ğ°Ğ±Ğ»ÑŒ',       emoji: 'â›µ', category: 'Ğ³Ğ¾Ñ€Ğ¾Ğ´',    hint: 'ĞŸĞ»Ñ‹Ğ²Ñ‘Ñ‚ Ğ¿Ğ¾ Ğ¼Ğ¾Ñ€Ñ' },
    { word: 'ĞºĞ¾ÑÑ‚Ñ‘Ñ€',        emoji: 'ğŸ”¥', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞĞ³Ğ¾Ğ½ÑŒ Ğ² Ğ»ĞµÑÑƒ' },
    { word: 'ĞºÑ€Ğ°ÑĞ¾Ñ‚Ğ°',       emoji: 'ğŸŒº', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞŸÑ€ĞµĞºÑ€Ğ°ÑĞ½Ğ¾Ğµ' },
    { word: 'Ğ»Ğ°Ğ³ĞµÑ€ÑŒ',        emoji: 'â›º', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ›ĞµÑ‚Ğ½Ğ¸Ğ¹ Ğ´ĞµÑ‚ÑĞºĞ¸Ğ¹...' },
    { word: 'Ğ¼ĞµĞ´Ğ°Ğ»ÑŒ',        emoji: 'ğŸ…', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞĞ°Ğ³Ñ€Ğ°Ğ´Ğ° Ğ·Ğ° Ğ¿Ğ¾Ğ±ĞµĞ´Ñƒ' },
    { word: 'Ğ¼ĞµÑÑÑ†',         emoji: 'ğŸŒ™', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ›ÑƒĞ½Ğ° Ğ¸Ğ»Ğ¸ 30 Ğ´Ğ½ĞµĞ¹' },
    { word: 'Ğ¾Ğ±Ğ»Ğ°ĞºĞ¾',        emoji: 'â˜ï¸', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ‘ĞµĞ»Ğ¾Ğµ Ğ² Ğ½ĞµĞ±Ğµ' },
    { word: 'Ğ¾Ğ²Ñ†Ğ°',          emoji: 'ğŸ‘', category: 'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ', hint: 'Ğ”Ğ°Ñ‘Ñ‚ ÑˆĞµÑ€ÑÑ‚ÑŒ' },
    { word: 'Ğ¿Ğ°Ğ»ÑŒÑ‚Ğ¾',        emoji: 'ğŸ§¥', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ’ĞµÑ€Ñ…Ğ½ÑÑ Ñ‚Ñ‘Ğ¿Ğ»Ğ°Ñ Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°' },
    { word: 'Ğ¿Ğ¾Ğ±ĞµĞ´Ğ°',        emoji: 'ğŸ†', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ’Ñ‹Ğ¸Ğ³Ñ€Ğ°Ñ‚ÑŒ, Ğ¿ĞµÑ€Ğ²Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾' },
    { word: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',       emoji: 'ğŸŒ¿', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ›ĞµÑĞ°, Ñ€ĞµĞºĞ¸, Ğ³Ğ¾Ñ€Ñ‹...' },
    { word: 'Ğ¿ÑƒÑ‚ĞµÑˆĞµÑÑ‚Ğ²Ğ¸Ğµ',   emoji: 'âœˆï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'ĞŸĞ¾ĞµĞ·Ğ´ĞºĞ° Ğ² Ğ´Ñ€ÑƒĞ³Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾' },
    { word: 'Ñ€Ğ°ÑÑ‚ĞµĞ½Ğ¸Ğµ',      emoji: 'ğŸŒ±', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ¢Ñ€Ğ°Ğ²Ğ°, Ğ´ĞµÑ€ĞµĞ²Ğ¾, Ñ†Ğ²ĞµÑ‚Ğ¾Ğº' },
    { word: 'ÑĞµĞ²ĞµÑ€',         emoji: 'ğŸ§­', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° ÑĞ²ĞµÑ‚Ğ°' },
    { word: 'ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ°',       emoji: 'ğŸ•Šï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ‘Ñ‹Ñ‚ÑŒ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ğ¼' },
    { word: 'ÑĞ¾Ğ»Ğ´Ğ°Ñ‚',        emoji: 'ğŸª–', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ—Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ Ğ¾Ğ´Ğ¸Ğ½Ñƒ' },
    { word: 'ÑÑ‚Ğ¾Ğ»Ğ¸Ñ†Ğ°',       emoji: 'ğŸ›ï¸', category: 'Ñ€Ğ¾Ğ´Ğ¸Ğ½Ğ°',   hint: 'Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´ ÑÑ‚Ñ€Ğ°Ğ½Ñ‹' },
    { word: 'ÑÑ‡Ğ°ÑÑ‚ÑŒĞµ',       emoji: 'ğŸ˜Š', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ Ğ°Ğ´Ğ¾ÑÑ‚ÑŒ, ÑƒĞ´Ğ°Ñ‡Ğ°' },
    { word: 'Ñ‚ĞµĞ°Ñ‚Ñ€',         emoji: 'ğŸ­', category: 'ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°', hint: 'Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ÑÑ‚ ÑĞ¿ĞµĞºÑ‚Ğ°ĞºĞ»Ğ¸' },
    { word: 'Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¸Ñ‰',       emoji: 'ğŸ¤', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ”Ñ€ÑƒĞ³, Ğ¿Ñ€Ğ¸ÑÑ‚ĞµĞ»ÑŒ' },
    { word: 'ÑƒÑ€Ğ¾Ğ¶Ğ°Ğ¹',        emoji: 'ğŸŒ¾', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'Ğ§Ñ‚Ğ¾ Ğ²Ñ‹Ñ€Ğ°ÑÑ‚Ğ¸Ğ»Ğ¸' },
    { word: 'ÑƒÑ‡Ğ¸Ñ‚ĞµĞ»ÑŒ',       emoji: 'ğŸ‘¨â€ğŸ«', category: 'ÑˆĞºĞ¾Ğ»Ğ°',   hint: 'Ğ£Ñ‡Ğ¸Ñ‚ Ğ´ĞµÑ‚ĞµĞ¹' },
    { word: 'Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¾',       emoji: 'â¤ï¸', category: 'Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ',   hint: 'Ğ Ğ°Ğ´Ğ¾ÑÑ‚ÑŒ, Ğ³Ñ€ÑƒÑÑ‚ÑŒ...' },
    { word: 'ÑĞ±Ğ»Ğ¾ĞºĞ¾',        emoji: 'ğŸ', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞšÑ€ÑƒĞ³Ğ»Ñ‹Ğ¹ Ñ„Ñ€ÑƒĞºÑ‚' },
    { word: 'ÑĞ³Ğ¾Ğ´Ğ°',         emoji: 'ğŸ“', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞœĞ°Ğ»Ğ¸Ğ½Ğ°, ĞºĞ»ÑƒĞ±Ğ½Ğ¸ĞºĞ°...' },
    { word: 'Ğ·ĞµĞ¼Ğ»Ñ',         emoji: 'ğŸŒ', category: 'Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°',  hint: 'ĞŸĞ¾Ñ‡Ğ²Ğ° Ğ¸ Ğ¿Ğ»Ğ°Ğ½ĞµÑ‚Ğ°' },
  ]
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GAME STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let G = {
  currentMini: 0,
  words: [],
  score: 0,
  muted: false,
  pagesComplete: [],
  telemetry: {},
  startTime: 0,
};

// Merged word pool â€” all classes mixed
const ALL_WORDS = [...WORDS[1], ...WORDS[2], ...WORDS[3]];

// Telemetry per mini-game
function initTelemetry(miniIdx) {
  G.telemetry[miniIdx] = {
    correct: 0, wrong: 0, hints: 0,
    attempts: [], errors: [], time: Date.now()
  };
}
function logTelemetry(miniIdx, correct, word, hints) {
  let t = G.telemetry[miniIdx];
  if (!t) return;
  if (correct) t.correct++;
  else { t.wrong++; if (word) t.errors.push(word); }
  t.hints += (hints||0);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUDIO (Web Audio API)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let audioCtx = null;
function getAudioCtx() {
  if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  return audioCtx;
}
function playTone(freq, dur, type='sine', vol=0.18) {
  if (G.muted) return;
  try {
    const ctx = getAudioCtx();
    const o = ctx.createOscillator();
    const g = ctx.createGain();
    o.connect(g); g.connect(ctx.destination);
    o.type = type; o.frequency.value = freq;
    g.gain.setValueAtTime(vol, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + dur);
    o.start(); o.stop(ctx.currentTime + dur);
  } catch(e) {}
}
function playSuccess() {
  playTone(523, 0.1); setTimeout(()=>playTone(659,0.1),100); setTimeout(()=>playTone(784,0.2),200);
}
function playWrong() {
  playTone(220, 0.15, 'sawtooth', 0.1);
}
function playClick() { playTone(440, 0.08, 'sine', 0.08); }

// Speech Synthesis
function speakWord(word) {
  if (G.muted) return;
  try {
    const u = new SpeechSynthesisUtterance(word);
    u.lang = 'ru-RU'; u.rate = 0.85; u.pitch = 1.1;
    speechSynthesis.cancel();
    speechSynthesis.speak(u);
  } catch(e) {}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UTILITIES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function shuffle(arr) {
  const a = [...arr];
  for (let i=a.length-1;i>0;i--) { const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
  return a;
}
function pick(arr, n) { return shuffle(arr).slice(0, n); }
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CLOUDS INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function initClouds() {
  const cont = document.getElementById('clouds');
  cont.innerHTML = '';
  for (let i=0;i<6;i++) {
    const c = document.createElement('div');
    c.className = 'cloud';
    const w = 80+Math.random()*120, h = 30+Math.random()*30;
    c.style.cssText = `width:${w}px;height:${h}px;top:${5+Math.random()*35}%;
      animation-duration:${25+Math.random()*30}s;animation-delay:-${Math.random()*40}s;`;
    c.style.left = '-200px';
    const b1=document.createElement('div'); b1.style.cssText=`width:${h*1.5}px;height:${h*1.5}px;top:-${h*0.7}px;left:${w*0.15}px;`;
    const b2=document.createElement('div'); b2.style.cssText=`width:${h}px;height:${h}px;top:-${h*0.5}px;left:${w*0.5}px;`;
    b1.className=''; b2.className='';
    b1.style.position='absolute'; b1.style.background='rgba(255,255,255,0.7)'; b1.style.borderRadius='50%';
    b2.style.position='absolute'; b2.style.background='rgba(255,255,255,0.7)'; b2.style.borderRadius='50%';
    c.appendChild(b1); c.appendChild(b2);
    cont.appendChild(c);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONFETTI
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function launchConfetti(n=24) {
  const colors = ['#E8A838','#7B8EC8','#5A9A6A','#C4624A','#F5C870','#4A5A9A'];
  for (let i=0;i<n;i++) {
    setTimeout(()=>{
      const el = document.createElement('div');
      el.className = 'confetti-piece';
      el.style.cssText = `left:${Math.random()*100}vw;top:-20px;
        background:${colors[Math.floor(Math.random()*colors.length)]};
        width:${6+Math.random()*10}px;height:${6+Math.random()*10}px;
        border-radius:${Math.random()>0.5?'50%':'3px'};
        animation-duration:${1.2+Math.random()*1.5}s;`;
      document.body.appendChild(el);
      setTimeout(()=>el.remove(), 2800);
    }, i*40);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HUD + BOOK PROGRESS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateHUD(title) {
  document.getElementById('hudTitle').textContent = title;
  document.getElementById('classBadge').textContent = '1â€“3 ĞºĞ»';
  const bp = document.getElementById('bookProgress');
  bp.innerHTML = '';
  for (let i=0;i<6;i++) {
    const d = document.createElement('div');
    d.className = 'book-page' + (G.pagesComplete.includes(i)?' done':'');
    bp.appendChild(d);
  }
}
function updateProgress(current, total, score) {
  document.getElementById('progressLabel').textContent = `${current}/${total}`;
  document.getElementById('progressFill').style.width = `${(current/total)*100}%`;
  document.getElementById('progressScore').textContent = `â˜… ${score}`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FEEDBACK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let feedbackCallback = null;
function showFeedback(ok, title, text, onNext) {
  feedbackCallback = onNext;
  document.getElementById('feedbackIcon').textContent = ok ? 'âœ…' : 'ğŸ’¡';
  document.getElementById('feedbackTitle').textContent = title;
  document.getElementById('feedbackTitle').style.color = ok ? '#2A6A3A' : '#7A4A1A';
  document.getElementById('feedbackText').textContent = text;
  document.getElementById('feedbackOverlay').classList.add('active');
}
function closeFeedback() {
  document.getElementById('feedbackOverlay').classList.remove('active');
  if (feedbackCallback) { feedbackCallback(); feedbackCallback = null; }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TRANSITIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showTransition(title, sub, onDone) {
  const ov = document.getElementById('transitionOverlay');
  document.getElementById('transitionTitle').textContent = title;
  document.getElementById('transitionSub').textContent = sub;
  ov.classList.add('active');
  setTimeout(()=>{ ov.classList.remove('active'); onDone(); }, 2200);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// START GAME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startGame() {
  playClick();
  G.currentMini = 0;
  G.score = 0;
  G.pagesComplete = [];
  G.words = shuffle(ALL_WORDS);
  G.telemetry = {};
  G.startTime = Date.now();
  showScreen('gameScreen');
  loadMiniGame(0);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME LOADER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const MINI_NAMES = [
  'Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 1: Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚',
  'Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 2: Ğ¡Ğ»Ğ¾Ğ¼Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ·ĞµÑ€ĞºĞ°Ğ»Ğ¾',
  'Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 3: Ğ‘ÑƒĞºĞ²ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ·Ğ°Ğ¸ĞºĞ°',
  'Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 4: ĞšĞ¾Ñ€Ğ¾Ğ»ĞµĞ²ÑĞºĞ°Ñ Ğ¿Ğ¾Ñ‡Ñ‚Ğ°',
  'Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 5: Ğ”Ğ¸ĞºÑ‚Ğ°Ğ½Ñ‚ Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ğ¸ĞºĞ°',
  'Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğµ 6: Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° ÑĞ»Ğ¾Ğ²',
];
const MINI_FUNS = [mini1_envelope, mini2_mirror, mini3_mosaic, mini4_sort, mini5_dictant, mini6_chain];

function loadMiniGame(idx) {
  G.currentMini = idx;
  initTelemetry(idx);
  updateHUD(MINI_NAMES[idx]);
  updateProgress(0, 1, G.score);
  MINI_FUNS[idx]();
}

function completeMiniGame(idx) {
  G.pagesComplete.push(idx);
  updateHUD(MINI_NAMES[idx]);
  playSuccess();
  launchConfetti();
  if (idx < 5) {
    showTransition(
      `Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° ${idx+1} Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°! ğŸ“–`,
      `Ğ‘ÑƒĞºĞ²Ğ°: Â«ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°! ĞšĞ»ÑĞºÑÑƒÑ ÑĞ»Ğ°Ğ±ĞµĞµÑ‚!Â»`,
      () => loadMiniGame(idx+1)
    );
  } else {
    showTransition(
      'ğŸ† ĞšĞ½Ğ¸Ğ³Ğ° Ğ¯Ğ·Ñ‹ĞºĞ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°!',
      'ĞšĞ»ÑĞºÑÑƒÑ Ğ¿Ğ¾Ğ±ĞµĞ¶Ğ´Ñ‘Ğ½! Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾, Ğ¿Ğ¾Ñ‡Ñ‚Ğ°Ğ»ÑŒĞ¾Ğ½!',
      () => showReport()
    );
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME 1: Ğ’ĞĞ›Ğ¨Ğ•Ğ‘ĞĞ«Ğ™ ĞšĞĞĞ’Ğ•Ğ Ğ¢
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mini1_envelope() {
  const area = document.getElementById('gameArea');
  const words = pick(G.words, 8);
  let idx = 0, attempts = 0, hintsUsed = 0;
  let typed = '';

  function render() {
    const item = words[idx];
    const w = item.word.toLowerCase();
    area.innerHTML = `
      <div class="mini-panel" id="m1panel">
        <div class="mini-title">âœ‰ï¸ Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚</div>
        <div class="mini-instruction">ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºÑƒ Ğ¸ Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ¿Ğ¾ Ğ±ÑƒĞºĞ²Ğ°Ğ¼</div>
        <div class="word-image">${item.emoji}</div>
        <div class="hint-display" id="m1hint">${item.hint}</div>
        <div class="word-display" id="m1display"></div>
        <div class="attempts-dots" id="m1dots"></div>
        <div class="keyboard" id="m1kb"></div>
        <button class="skip-btn" onclick="m1hint()">ğŸ’¡ ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°</button>
      </div>`;
    updateProgress(idx, words.length, G.score);
    renderDisplay(w, typed);
    renderDots();
    renderKeyboard();
    speakWord(item.word);
  }

  function renderDisplay(word, typedSoFar) {
    const disp = document.getElementById('m1display');
    if (!disp) return;
    disp.innerHTML = '';
    for (let i=0;i<word.length;i++) {
      const cell = document.createElement('div');
      cell.className = 'letter-cell';
      if (i < typedSoFar.length) {
        cell.textContent = typedSoFar[i].toUpperCase();
        if (typedSoFar[i].toLowerCase() === word[i]) cell.classList.add('correct');
        else cell.classList.add('wrong');
      }
      disp.appendChild(cell);
    }
  }

  function renderDots() {
    const dots = document.getElementById('m1dots');
    if (!dots) return;
    dots.innerHTML = '';
    for (let i=0;i<3;i++) {
      const d = document.createElement('div');
      d.className = 'attempt-dot' + (i<attempts?' used':'');
      dots.appendChild(d);
    }
  }

  window.m1hint = function() {
    hintsUsed++;
    const item = words[idx];
    const w = item.word.toLowerCase();
    if (hintsUsed === 1) {
      document.getElementById('m1hint').textContent = 'ğŸ’¡ ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ±ÑƒĞºĞ²Ğ°: ' + w[0].toUpperCase();
    } else if (hintsUsed === 2) {
      // show first syllable
      const half = Math.ceil(w.length/2);
      typed = w.slice(0,half);
      document.getElementById('m1hint').textContent = 'ğŸ’¡ ĞĞ°Ñ‡Ğ°Ğ»Ğ¾: ' + typed.toUpperCase();
      renderDisplay(w, typed);
    } else {
      typed = w;
      renderDisplay(w, typed);
      document.getElementById('m1hint').textContent = 'ğŸ’¡ Ğ’Ğ¾Ñ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾!';
    }
  };

  function renderKeyboard() {
    const kb = document.getElementById('m1kb');
    if (!kb) return;
    const letters = 'ĞĞ‘Ğ’Ğ“Ğ”Ğ•ĞĞ–Ğ—Ğ˜Ğ™ĞšĞ›ĞœĞĞĞŸĞ Ğ¡Ğ¢Ğ£Ğ¤Ğ¥Ğ¦Ğ§Ğ¨Ğ©ĞªĞ«Ğ¬Ğ­Ğ®Ğ¯';
    kb.innerHTML = '';
    for (let ch of letters) {
      const btn = document.createElement('button');
      btn.className = 'key-btn';
      btn.textContent = ch;
      btn.onclick = () => pressLetter(ch.toLowerCase());
      kb.appendChild(btn);
    }
    const back = document.createElement('button');
    back.className = 'key-btn backspace';
    back.textContent = 'âŒ«';
    back.onclick = () => { typed = typed.slice(0,-1); renderDisplay(words[idx].word.toLowerCase(), typed); };
    kb.appendChild(back);
    // Submit
    const sub = document.createElement('button');
    sub.className = 'key-btn'; sub.style.gridColumn='span 3';
    sub.style.background='linear-gradient(145deg,#5A9A6A,#3A7A4A)';
    sub.style.color='white'; sub.style.borderColor='#3A7A4A';
    sub.textContent = 'âœ“ ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ';
    sub.onclick = checkAnswer;
    kb.appendChild(sub);
  }

  function pressLetter(ch) {
    playClick();
    const w = words[idx].word.toLowerCase();
    if (typed.length < w.length) {
      typed += ch;
      renderDisplay(w, typed);
      if (typed.length === w.length) checkAnswer();
    }
  }

  function checkAnswer() {
    const item = words[idx];
    const w = item.word.toLowerCase();
    if (typed.toLowerCase() === w) {
      playSuccess();
      const pts = Math.max(1, 3-attempts);
      G.score += pts;
      logTelemetry(0, true, item.word, hintsUsed);
      showFeedback(true, 'ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾! âœ…',
        `Â«${item.word.toUpperCase()}Â» â€” ${item.hint}`,
        nextWord);
    } else {
      attempts++;
      playWrong();
      logTelemetry(0, false, item.word, 0);
      renderDots();
      const panel = document.getElementById('m1panel');
      if (panel) { panel.classList.add('shake'); setTimeout(()=>panel.classList.remove('shake'),400); }
      if (attempts >= 3) {
        typed = '';
        showFeedback(false, 'Ğ—Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°ĞµĞ¼!',
          `ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾: ${item.word.toUpperCase()}. ${item.hint}`,
          nextWord);
      } else {
        document.getElementById('m1hint').textContent = `ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ ĞµÑ‰Ñ‘! (${3-attempts} Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸)`;
        typed = '';
        renderDisplay(w, typed);
      }
    }
  }

  function nextWord() {
    idx++; attempts=0; hintsUsed=0; typed='';
    if (idx >= words.length) { completeMiniGame(0); return; }
    render();
  }

  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME 2: Ğ¡Ğ›ĞĞœĞĞĞĞĞ• Ğ—Ğ•Ğ ĞšĞĞ›Ğ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mini2_mirror() {
  const area = document.getElementById('gameArea');
  const words = pick(G.words, 10);
  let idx = 0, attempts = 0;

  function makeWrong(word) {
    const variants = [];
    const w = word.toLowerCase();
    const vowels = {Ğ°:'Ğ¾',Ğ¾:'Ğ°',Ğµ:'Ğ¸',Ğ¸:'Ğµ',Ñƒ:'Ğ°',Ñ:'Ğµ',Ñ‘:'Ğ¾',Ñ:'Ğµ',Ñ:'Ñƒ'};
    // Swap one vowel
    for (let i=0;i<w.length;i++) {
      if (vowels[w[i]]) {
        const arr = w.split('');
        arr[i] = vowels[w[i]];
        const v = arr.join('');
        if (v !== w && !variants.includes(v)) variants.push(v);
      }
    }
    // Duplicate a letter
    const pos = Math.floor(w.length/2);
    variants.push(w.slice(0,pos)+w[pos]+w.slice(pos));
    // Remove a letter
    if (w.length > 3) variants.push(w.slice(0,pos)+w.slice(pos+1));
    return shuffle(variants.filter(v=>v!==w)).slice(0,2);
  }

  function render() {
    const item = words[idx];
    const w = item.word.toLowerCase();
    const wrongs = makeWrong(w);
    const choices = shuffle([w, ...wrongs.slice(0,2)]);
    area.innerHTML = `
      <div class="mini-panel">
        <div class="mini-title">ğŸª Ğ¡Ğ»Ğ¾Ğ¼Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ·ĞµÑ€ĞºĞ°Ğ»Ğ¾</div>
        <div class="mini-instruction">ĞšĞ»ÑĞºÑÑƒÑ Ğ¸ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ» ÑĞ»Ğ¾Ğ²Ğ¾! ĞĞ°Ğ¹Ğ´Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ</div>
        <div class="word-image">${item.emoji}</div>
        <div style="text-align:center;margin-bottom:8px">
          <div class="attempts-dots" id="m2dots"></div>
        </div>
        <div class="choices">
          ${choices.map((c,i)=>`<button class="choice-btn" id="m2c${i}" onclick="m2choose(${i},'${c}','${w}')">${c.toUpperCase()}</button>`).join('')}
        </div>
      </div>`;
    updateProgress(idx, words.length, G.score);
    renderDots2();
    speakWord(item.word);
  }

  window.m2choose = function(i, choice, correct) {
    playClick();
    const btns = document.querySelectorAll('[id^="m2c"]');
    btns.forEach(b=>b.style.pointerEvents='none');
    if (choice === correct) {
      playSuccess();
      document.getElementById('m2c'+i).classList.add('correct-ans');
      G.score += Math.max(1,3-attempts);
      logTelemetry(1, true, words[idx].word, 0);
      showFeedback(true,'Ğ’ĞµÑ€Ğ½Ğ¾! Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ¾ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾! âœ…',
        `Â«${correct.toUpperCase()}Â» â€” Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ!`, next2);
    } else {
      playWrong(); attempts++;
      document.getElementById('m2c'+i).classList.add('wrong-ans');
      logTelemetry(1, false, words[idx].word, 0);
      renderDots2();
      if (attempts>=3) {
        // Highlight correct
        btns.forEach(b=>{ if(b.textContent===correct.toUpperCase()) b.classList.add('correct-ans'); });
        showFeedback(false,'Ğ—Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°ĞµĞ¼!',
          `ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾: Â«${correct.toUpperCase()}Â»`, next2);
      } else {
        setTimeout(()=>{
          btns.forEach(b=>b.classList.remove('wrong-ans'));
          btns.forEach(b=>b.style.pointerEvents='');
        }, 700);
      }
    }
  };

  function renderDots2() {
    const dots = document.getElementById('m2dots');
    if (!dots) return;
    dots.innerHTML = '';
    for (let i=0;i<3;i++) {
      const d = document.createElement('div');
      d.className='attempt-dot'+(i<attempts?' used':'');
      dots.appendChild(d);
    }
  }

  function next2() { idx++; attempts=0; if(idx>=words.length){completeMiniGame(1);return;} render(); }
  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME 3: Ğ‘Ğ£ĞšĞ’Ğ•ĞĞĞĞ¯ ĞœĞĞ—ĞĞ˜ĞšĞ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mini3_mosaic() {
  const area = document.getElementById('gameArea');
  const words = pick(G.words.filter(w=>w.word.length>=4), 8);
  let idx=0, placed=[], hintTimer=null, hintsUsed=0;

  function render() {
    const item = words[idx];
    const w = item.word.toLowerCase();
    placed = new Array(w.length).fill('');
    hintsUsed=0;

    // Shuffle letters with extras
    const letters = shuffle([...w].concat(getExtraLetters(w)));

    area.innerHTML = `
      <div class="mini-panel">
        <div class="mini-title">ğŸ§© Ğ‘ÑƒĞºĞ²ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ·Ğ°Ğ¸ĞºĞ°</div>
        <div class="mini-instruction">Ğ¡Ğ¾Ğ±ĞµÑ€Ğ¸ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ¸Ğ· Ğ±ÑƒĞºĞ²! ${item.emoji} ${item.hint}</div>
        <div class="mosaic-area">
          <div class="mosaic-target" id="m3target"></div>
          <div class="mosaic-letters" id="m3letters"></div>
        </div>
        <div class="hint-display" id="m3hint"></div>
        <button class="skip-btn" onclick="m3hintBtn()">ğŸ’¡ ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°</button>
      </div>`;
    updateProgress(idx, words.length, G.score);
    renderSlots(w);
    renderLetterBtns(letters, w);
    speakWord(item.word);
    startHintTimer(w);
  }

  function getExtraLetters(w) {
    const pool = 'Ğ°Ğ±Ğ²Ğ³Ğ´ĞµÑ‘Ğ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰Ñ‹ÑŒÑÑÑ';
    const extras = [];
    while (extras.length < 3) {
      const ch = pool[Math.floor(Math.random()*pool.length)];
      if (!extras.includes(ch)) extras.push(ch);
    }
    return extras;
  }

  function renderSlots(w) {
    const tgt = document.getElementById('m3target');
    if (!tgt) return;
    tgt.innerHTML = '';
    for (let i=0;i<w.length;i++) {
      const s = document.createElement('div');
      s.className = 'mosaic-slot' + (placed[i]?' filled':'');
      s.textContent = placed[i]?placed[i].toUpperCase():'';
      s.id = 'ms'+i;
      s.onclick = () => removeFromSlot(i, w);
      tgt.appendChild(s);
    }
  }

  function renderLetterBtns(letters, w) {
    const cont = document.getElementById('m3letters');
    if (!cont) return;
    cont.innerHTML = '';
    letters.forEach((ch,i)=>{
      const btn = document.createElement('button');
      btn.className='mosaic-letter'+(isUsed(ch,i,letters)?'':' ');
      btn.textContent = ch.toUpperCase();
      btn.id='ml'+i;
      btn.onclick=()=>placeLetter(ch,i,w,letters);
      cont.appendChild(btn);
    });
  }

  // track used letter indices
  let usedIndices = new Set();

  function isUsed(ch,i,letters){ return usedIndices.has(i); }

  function render2(letters, w) {
    renderSlots(w);
    const cont = document.getElementById('m3letters');
    if (!cont) return;
    [...cont.children].forEach((btn,i)=>{
      btn.classList.toggle('used', usedIndices.has(i));
    });
  }

  function placeLetter(ch,lIdx,w,letters) {
    if (usedIndices.has(lIdx)) return;
    playClick();
    const firstEmpty = placed.indexOf('');
    if (firstEmpty === -1) return;
    placed[firstEmpty] = ch;
    usedIndices.add(lIdx);
    render2(letters,w);
    if (!placed.includes('')) checkMosaic(w, letters);
  }

  function removeFromSlot(slotIdx, w) {
    if (!placed[slotIdx]) return;
    // find which letter index placed this
    placed[slotIdx]='';
    // rebuild - find first used that matches... simpler: just re-render
    // We need to track letter->slot mapping
    // Simplified: clear usedIndices for that letter
    // Actually let's rebuild usedIndices from placed
    rebuildUsed(w);
    renderSlots(w);
    const cont = document.getElementById('m3letters');
    if (cont) [...cont.children].forEach((btn,i)=>{ btn.classList.toggle('used',usedIndices.has(i)); });
  }

  function rebuildUsed(w) {
    const cont = document.getElementById('m3letters');
    if (!cont) return;
    const allLetters = [...cont.children].map(b=>b.textContent.toLowerCase());
    usedIndices = new Set();
    const placedCopy = [...placed.filter(Boolean)];
    allLetters.forEach((ch,i)=>{
      const pi = placedCopy.indexOf(ch);
      if (pi!==-1){ usedIndices.add(i); placedCopy.splice(pi,1); }
    });
  }

  function checkMosaic(w, letters) {
    const answer = placed.join('').toLowerCase();
    if (answer === w) {
      clearTimeout(hintTimer);
      playSuccess(); G.score+=2;
      logTelemetry(2, true, words[idx].word, hintsUsed);
      // Mark all slots correct
      for(let i=0;i<w.length;i++){
        const s=document.getElementById('ms'+i);
        if(s)s.classList.add('correct-slot');
      }
      setTimeout(()=>showFeedback(true,'Ğ¡Ğ¾Ğ±Ñ€Ğ°Ğ»! âœ…',
        `Â«${w.toUpperCase()}Â» â€” ${words[idx].hint}`, ()=>{
          idx++; usedIndices=new Set();
          if(idx>=words.length){completeMiniGame(2);return;}
          render();
        }), 600);
    } else {
      playWrong(); logTelemetry(2,false,words[idx].word,0);
      for(let i=0;i<w.length;i++){
        const s=document.getElementById('ms'+i);
        if(s)s.classList.add('wrong-slot');
      }
      setTimeout(()=>{
        placed=new Array(w.length).fill('');
        usedIndices=new Set();
        render2(letters,w);
        const slots=document.querySelectorAll('.mosaic-slot');
        slots.forEach(s=>{s.classList.remove('wrong-slot','filled');s.textContent='';});
      }, 800);
    }
  }

  window.m3hintBtn = function() {
    hintsUsed++;
    const item=words[idx]; const w=item.word.toLowerCase();
    if (hintsUsed===1) {
      document.getElementById('m3hint').textContent='ğŸ’¡ Ğ¡Ğ»Ğ¾Ğ²Ğ¾ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ğ½Ğ°: '+w[0].toUpperCase();
    } else if (hintsUsed===2) {
      // Place first letter
      const firstEmpty=placed.indexOf('');
      if(firstEmpty===0){ placed[0]=w[0]; rebuildUsed(w); render2([],w); }
      document.getElementById('m3hint').textContent='ğŸ’¡ ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ±ÑƒĞºĞ²Ğ° Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ°!';
    } else {
      placed=[...w]; rebuildUsed(w); render2([],w);
      document.getElementById('m3hint').textContent='ğŸ’¡ Ğ’Ğ¾Ñ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚!';
    }
    logTelemetry(2,false,null,1);
  };

  function startHintTimer(w) {
    clearTimeout(hintTimer);
    hintTimer = setTimeout(()=>{
      const h=document.getElementById('m3hint');
      if(h) h.textContent='ğŸ’¡ ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°: ÑĞ»Ğ¾Ğ²Ğ¾ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° '+w[0].toUpperCase();
    },12000);
  }

  usedIndices = new Set();
  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME 4: ĞšĞĞ ĞĞ›Ğ•Ğ’Ğ¡ĞšĞĞ¯ ĞŸĞĞ§Ğ¢Ğ (Ğ¡ĞĞ Ğ¢Ğ˜Ğ ĞĞ’ĞšĞ)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mini4_sort() {
  const area = document.getElementById('gameArea');
  const words = pick(G.words, 12);
  let idx=0;

  // get unique categories
  const allCats = [...new Set(G.words.map(w=>w.category))];
  const catIcons = {
    'Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ':'ğŸ¦Š','ÑˆĞºĞ¾Ğ»Ğ°':'ğŸ“š','Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ°':'ğŸŒ¿','Ğ³Ğ¾Ñ€Ğ¾Ğ´':'ğŸ™ï¸','Ğ¾Ğ²Ğ¾Ñ‰Ğ¸':'ğŸ¥¦',
    'Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹':'ğŸ¥›','Ñ†Ğ¸Ñ„Ñ€Ñ‹':'ğŸ”¢','Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ':'â­','Ñ€Ğ¾Ğ´Ğ¸Ğ½Ğ°':'ğŸ‡·ğŸ‡º','ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°':'ğŸ¨'
  };

  function render() {
    const item = words[idx];
    // Pick 4 categories including correct one
    const cats = shuffle([item.category, ...allCats.filter(c=>c!==item.category)]).slice(0,4);
    area.innerHTML = `
      <div class="mini-panel">
        <div class="mini-title">ğŸ“® ĞšĞ¾Ñ€Ğ¾Ğ»ĞµĞ²ÑĞºĞ°Ñ Ğ¿Ğ¾Ñ‡Ñ‚Ğ°</div>
        <div class="mini-instruction">Ğ‘Ñ€Ğ¾ÑÑŒ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ Ñ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¼ ÑĞ»Ğ¾Ğ²Ğ¾Ğ¼ Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑÑ‰Ğ¸Ğº!</div>
        <div style="text-align:center">
          <div class="sort-word">${item.emoji} ${item.word.toUpperCase()}</div>
        </div>
        <div class="sort-boxes">
          ${cats.map((cat,i)=>`
            <div class="sort-box" id="sb${i}" onclick="m4pick('${cat}','${item.category}',${i})">
              <span class="sort-box-icon">${catIcons[cat]||'ğŸ“¦'}</span>
              <span class="sort-box-label">${cat.charAt(0).toUpperCase()+cat.slice(1)}</span>
            </div>`).join('')}
        </div>
      </div>`;
    updateProgress(idx, words.length, G.score);
    speakWord(item.word);
  }

  window.m4pick = function(chosen, correct, boxIdx) {
    playClick();
    document.querySelectorAll('.sort-box').forEach(b=>b.style.pointerEvents='none');
    const box = document.getElementById('sb'+boxIdx);
    if (chosen===correct) {
      playSuccess(); G.score+=2;
      box.classList.add('correct-box');
      logTelemetry(3, true, words[idx].word, 0);
      showFeedback(true,'ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑÑ‰Ğ¸Ğº! ğŸ“®',
        `Â«${words[idx].word.toUpperCase()}Â» â†’ ${correct}`, next4);
    } else {
      playWrong(); box.classList.add('wrong-box');
      logTelemetry(3, false, words[idx].word, 0);
      showFeedback(false,'ĞĞµ Ñ‚Ğ¾Ñ‚ ÑÑ‰Ğ¸Ğº!',
        `Â«${words[idx].word.toUpperCase()}Â» Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ÑÑ Ğº: ${correct}`, next4);
    }
  };

  function next4() { idx++; if(idx>=words.length){completeMiniGame(3);return;} render(); }
  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME 5: Ğ”Ğ˜ĞšĞ¢ĞĞĞ¢ Ğ’ĞĞ›Ğ¨Ğ•Ğ‘ĞĞ˜ĞšĞ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mini5_dictant() {
  const area = document.getElementById('gameArea');
  const words = pick(G.words, 8);
  let idx=0, typed='', attempts=0, hintsUsed=0;

  function render() {
    const item = words[idx];
    const w = item.word.toLowerCase();
    area.innerHTML = `
      <div class="mini-panel" id="m5panel">
        <div class="mini-title">ğŸ¤ Ğ”Ğ¸ĞºÑ‚Ğ°Ğ½Ñ‚ Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ğ¸ĞºĞ°</div>
        <div class="mini-instruction">ĞĞ°Ğ¶Ğ¼Ğ¸ ğŸ”Š Ğ¸ Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸ ÑƒÑĞ»Ñ‹ÑˆĞ°Ğ½Ğ½Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾</div>
        <button class="audio-btn" onclick="speakWord('${item.word}')">ğŸ”Š</button>
        <div class="word-display" id="m5display"></div>
        <div class="hint-display" id="m5hint"></div>
        <div class="attempts-dots" id="m5dots"></div>
        <div class="keyboard" id="m5kb"></div>
        <button class="skip-btn" onclick="m5hint()">ğŸ’¡ ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°</button>
      </div>`;
    updateProgress(idx, words.length, G.score);
    renderDisp5(w);
    renderDots5();
    renderKb5(w);
    speakWord(item.word);
  }

  function renderDisp5(w){
    const d=document.getElementById('m5display'); if(!d)return;
    d.innerHTML='';
    for(let i=0;i<w.length;i++){
      const c=document.createElement('div'); c.className='letter-cell';
      if(i<typed.length){ c.textContent=typed[i].toUpperCase();
        c.classList.add(typed[i].toLowerCase()===w[i]?'correct':'wrong'); }
      d.appendChild(c);
    }
  }

  function renderDots5(){
    const d=document.getElementById('m5dots'); if(!d)return; d.innerHTML='';
    for(let i=0;i<3;i++){const el=document.createElement('div');el.className='attempt-dot'+(i<attempts?' used':'');d.appendChild(el);}
  }

  function renderKb5(w){
    const kb=document.getElementById('m5kb'); if(!kb)return;
    const letters='ĞĞ‘Ğ’Ğ“Ğ”Ğ•ĞĞ–Ğ—Ğ˜Ğ™ĞšĞ›ĞœĞĞĞŸĞ Ğ¡Ğ¢Ğ£Ğ¤Ğ¥Ğ¦Ğ§Ğ¨Ğ©ĞªĞ«Ğ¬Ğ­Ğ®Ğ¯';
    kb.innerHTML='';
    for(let ch of letters){
      const btn=document.createElement('button'); btn.className='key-btn'; btn.textContent=ch;
      btn.onclick=()=>{ if(G.muted===false) playClick(); if(typed.length<w.length){typed+=ch.toLowerCase();renderDisp5(w);if(typed.length===w.length)check5(w);}};
      kb.appendChild(btn);
    }
    const back=document.createElement('button'); back.className='key-btn backspace'; back.textContent='âŒ«';
    back.onclick=()=>{typed=typed.slice(0,-1);renderDisp5(w);};
    kb.appendChild(back);
    const sub=document.createElement('button'); sub.className='key-btn'; sub.style.gridColumn='span 3';
    sub.style.background='linear-gradient(145deg,#5A9A6A,#3A7A4A)';sub.style.color='white';sub.style.borderColor='#3A7A4A';
    sub.textContent='âœ“ ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ'; sub.onclick=()=>check5(w); kb.appendChild(sub);
  }

  window.m5hint=function(){
    hintsUsed++;
    const w=words[idx].word.toLowerCase();
    const h=document.getElementById('m5hint');
    if(hintsUsed===1){if(h)h.textContent='ğŸ’¡ ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ±ÑƒĞºĞ²Ğ°: '+w[0].toUpperCase();}
    else if(hintsUsed===2){if(h)h.textContent='ğŸ’¡ ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°: '+words[idx].hint;}
    else{typed=w;renderDisp5(w);if(h)h.textContent='ğŸ’¡ Ğ’Ğ¾Ñ‚ ÑĞ»Ğ¾Ğ²Ğ¾!';}
    logTelemetry(4,false,null,1);
  };

  function check5(w){
    if(typed.toLowerCase()===w){
      playSuccess(); G.score+=Math.max(1,3-attempts);
      logTelemetry(4,true,words[idx].word,hintsUsed);
      showFeedback(true,'ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ»! âœ…',
        `Â«${w.toUpperCase()}Â» â€” ${words[idx].hint}`, next5);
    } else {
      attempts++; playWrong();
      logTelemetry(4,false,words[idx].word,0);
      renderDots5();
      const p=document.getElementById('m5panel');
      if(p){p.classList.add('shake');setTimeout(()=>p.classList.remove('shake'),400);}
      if(attempts>=3){
        showFeedback(false,'Ğ—Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°ĞµĞ¼!',`ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾: Â«${w.toUpperCase()}Â»`,next5);
      } else { typed=''; renderDisp5(w); }
    }
  }

  function next5(){idx++;attempts=0;typed='';hintsUsed=0;if(idx>=words.length){completeMiniGame(4);return;}render();}
  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINI-GAME 6: Ğ¦Ğ•ĞŸĞĞ§ĞšĞ Ğ¡Ğ›ĞĞ’
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mini6_chain() {
  const area = document.getElementById('gameArea');
  const allWords = G.words.map(w=>w.word.toLowerCase());
  let chain = [], typed='', attempts=0, total=0, maxWords=10;
  let startLetter = allWords[Math.floor(Math.random()*allWords.length)][0];

  function getFirstWord() {
    const w = allWords.find(w=>w[0]===startLetter && !chain.includes(w));
    return w || allWords.find(w=>!chain.includes(w));
  }

  function render() {
    const needLetter = chain.length===0 ? startLetter : chain[chain.length-1].slice(-1);
    const hint = chain.length===0 ? `ĞĞ°Ñ‡Ğ½Ğ¸ Ñ Ğ±ÑƒĞºĞ²Ñ‹ Â«${needLetter.toUpperCase()}Â»` :
      `Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰ĞµĞµ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ½Ğ° Ğ±ÑƒĞºĞ²Ñƒ Â«${needLetter.toUpperCase()}Â»`;
    area.innerHTML = `
      <div class="mini-panel">
        <div class="mini-title">ğŸ”— Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° ÑĞ»Ğ¾Ğ²</div>
        <div class="mini-instruction">ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ½Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Ğ½ÑƒĞ¶Ğ½ÑƒÑ Ğ±ÑƒĞºĞ²Ñƒ!</div>
        <div class="chain-area">
          <div class="chain-display" id="m6chain">${renderChainHTML()}</div>
          <div class="chain-hint">ĞÑƒĞ¶Ğ½Ğ° Ğ±ÑƒĞºĞ²Ğ°: <span>${(chain.length===0?startLetter:chain[chain.length-1].slice(-1)).toUpperCase()}</span></div>
          <div style="text-align:center;font-size:13px;color:#888;font-weight:600">Ğ¡Ğ»Ğ¾Ğ²: ${chain.length}/${maxWords}</div>
          <div class="word-display" id="m6display"></div>
          <div class="hint-display" id="m6hint"></div>
          <div class="keyboard" id="m6kb"></div>
          <button class="skip-btn" onclick="m6skip()">â­ ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ</button>
        </div>
      </div>`;
    updateProgress(chain.length, maxWords, G.score);
    renderDisp6();
    renderKb6();
  }

  function renderChainHTML(){
    if(chain.length===0) return '<span style="color:#aaa;font-size:13px">Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° Ğ¿ÑƒÑÑ‚Ğ°</span>';
    return chain.map((w,i)=>`<span class="chain-word">${i>0?'<span class="chain-arrow">â†’</span>':''}${w.toUpperCase()}</span>`).join('');
  }

  function renderDisp6(){
    const d=document.getElementById('m6display'); if(!d)return;
    const needLetter = chain.length===0?startLetter:chain[chain.length-1].slice(-1);
    d.innerHTML='';
    // Show first letter cell prefilled
    const c0=document.createElement('div'); c0.className='letter-cell hint-letter';
    c0.textContent=needLetter.toUpperCase(); d.appendChild(c0);
    for(let i=1;i<Math.max(typed.length+1,3);i++){
      const c=document.createElement('div'); c.className='letter-cell';
      if(i<typed.length+1) c.textContent=(typed[i-1]||'').toUpperCase();
      d.appendChild(c);
    }
  }

  function renderKb6(){
    const kb=document.getElementById('m6kb'); if(!kb)return;
    const letters='ĞĞ‘Ğ’Ğ“Ğ”Ğ•ĞĞ–Ğ—Ğ˜Ğ™ĞšĞ›ĞœĞĞĞŸĞ Ğ¡Ğ¢Ğ£Ğ¤Ğ¥Ğ¦Ğ§Ğ¨Ğ©ĞªĞ«Ğ¬Ğ­Ğ®Ğ¯';
    kb.innerHTML='';
    for(let ch of letters){
      const btn=document.createElement('button'); btn.className='key-btn'; btn.textContent=ch;
      btn.onclick=()=>{ playClick(); typed+=ch.toLowerCase(); renderDisp6(); };
      kb.appendChild(btn);
    }
    const back=document.createElement('button'); back.className='key-btn backspace'; back.textContent='âŒ«';
    back.onclick=()=>{typed=typed.slice(0,-1);renderDisp6();};
    kb.appendChild(back);
    const sub=document.createElement('button'); sub.className='key-btn'; sub.style.gridColumn='span 3';
    sub.style.background='linear-gradient(145deg,#5A9A6A,#3A7A4A)';sub.style.color='white';sub.style.borderColor='#3A7A4A';
    sub.textContent='âœ“ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºÑƒ'; sub.onclick=check6; kb.appendChild(sub);
  }

  function check6(){
    const needLetter = chain.length===0?startLetter:chain[chain.length-1].slice(-1);
    const fullWord = needLetter + typed;
    const w = fullWord.toLowerCase();
    const hint = document.getElementById('m6hint');

    if (!allWords.includes(w)) {
      playWrong(); attempts++;
      logTelemetry(5,false,w,0);
      if(hint) hint.textContent=`âŒ Â«${w.toUpperCase()}Â» Ğ½Ğµ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğµ. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹ Ğ´Ñ€ÑƒĞ³Ğ¾Ğµ!`;
    } else if (chain.includes(w)) {
      playWrong();
      if(hint) hint.textContent='âŒ Ğ­Ñ‚Ğ¾ ÑĞ»Ğ¾Ğ²Ğ¾ ÑƒĞ¶Ğµ Ğ±Ñ‹Ğ»Ğ¾! ĞŸÑ€Ğ¸Ğ´ÑƒĞ¼Ğ°Ğ¹ Ğ´Ñ€ÑƒĞ³Ğ¾Ğµ.';
    } else {
      playSuccess(); chain.push(w); G.score+=3;
      logTelemetry(5,true,w,0);
      typed='';
      if(chain.length>=maxWords){completeMiniGame(5);return;}
      render();
    }
  }

  window.m6skip=function(){
    const needLetter = chain.length===0?startLetter:chain[chain.length-1].slice(-1);
    const next=allWords.find(w=>w[0]===needLetter&&!chain.includes(w));
    if(next){chain.push(next);typed='';if(chain.length>=maxWords){completeMiniGame(5);return;}render();}
    else{
      // change start letter
      startLetter=allWords.find(w=>!chain.includes(w))?.[0]||'Ğ°';
      typed='';render();
    }
  };

  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REPORT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showReport() {
  showScreen('reportScreen');
  const totalTime = Math.round((Date.now()-G.startTime)/60000);
  const sub = document.getElementById('reportSubtitle');
  sub.textContent = `1â€“3 ĞºĞ»Ğ°ÑÑ (Ğ²ÑĞµ ÑĞ»Ğ¾Ğ²Ğ°) Â· ${totalTime} Ğ¼Ğ¸Ğ½ Â· ĞÑ‡ĞºĞ¸: ${G.score}`;

  const miniNames2 = [
    'Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚','Ğ¡Ğ»Ğ¾Ğ¼Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ·ĞµÑ€ĞºĞ°Ğ»Ğ¾','Ğ‘ÑƒĞºĞ²ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ·Ğ°Ğ¸ĞºĞ°',
    'ĞšĞ¾Ñ€Ğ¾Ğ»ĞµĞ²ÑĞºĞ°Ñ Ğ¿Ğ¾Ñ‡Ñ‚Ğ°','Ğ”Ğ¸ĞºÑ‚Ğ°Ğ½Ñ‚ Ğ’Ğ¾Ğ»ÑˆĞµĞ±Ğ½Ğ¸ĞºĞ°','Ğ¦ĞµĞ¿Ğ¾Ñ‡ĞºĞ° ÑĞ»Ğ¾Ğ²'
  ];
  const miniEmojis = ['âœ‰ï¸','ğŸª','ğŸ§©','ğŸ“®','ğŸ¤','ğŸ”—'];

  let html = '';
  let totalCorrect=0, totalWrong=0, totalHints=0;
  let allErrors = [];

  for (let i=0;i<6;i++) {
    const t = G.telemetry[i]||{correct:0,wrong:0,hints:0,errors:[]};
    const tot = t.correct+t.wrong;
    const pct = tot>0?Math.round(t.correct/tot*100):0;
    totalCorrect+=t.correct; totalWrong+=t.wrong; totalHints+=t.hints;
    allErrors.push(...(t.errors||[]));
    const dur = t.time?Math.round((Date.now()-t.time)/1000):0;
    html+=`<div class="report-mini">
      <div class="report-mini-title">${miniEmojis[i]} ${miniNames2[i]}</div>
      <div class="stat-row"><span>Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ</span><span class="stat-val">${pct}% (${t.correct}/${tot})</span></div>
      <div class="stat-bar"><div class="stat-bar-fill" style="width:${pct}%"></div></div>
      <div class="stat-row"><span>ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸</span><span class="stat-val">${t.hints}</span></div>
      ${t.errors&&t.errors.length?`<div class="error-words">Ğ¢Ñ€ÑƒĞ´Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ°: ${[...new Set(t.errors)].slice(0,5).join(', ')}</div>`:''}
    </div>`;
  }

  const totAll=totalCorrect+totalWrong;
  const overallPct=totAll>0?Math.round(totalCorrect/totAll*100):0;
  const topErrors=[...new Set(allErrors)].slice(0,8);
  const recommend=overallPct>=80?'ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚! ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğº ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¼Ñƒ ĞºĞ»Ğ°ÑÑÑƒ.':
    overallPct>=60?'Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ñ‚Ñ€ÑƒĞ´Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ° ĞµÑ‰Ñ‘ Ñ€Ğ°Ğ·.':
    'Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ°. Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ñ.';

  html=`
    <div class="report-mini" style="background:linear-gradient(135deg,#E8F8EC,#D8F0E0);border:2px solid #5A9A6A;">
      <div class="report-mini-title" style="color:#2A6A3A;font-size:16px">ğŸ“Š ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¸Ñ‚Ğ¾Ğ³ ÑƒÑ€Ğ¾ĞºĞ°</div>
      <div class="stat-row"><span>ĞĞ±Ñ‰Ğ°Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ</span><span class="stat-val">${overallPct}%</span></div>
      <div class="stat-bar"><div class="stat-bar-fill" style="width:${overallPct}%"></div></div>
      <div class="stat-row"><span>Ğ’ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾</span><span class="stat-val">${totalCorrect} Ğ¸Ğ· ${totAll}</span></div>
      <div class="stat-row"><span>Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·Ğ¾Ğº</span><span class="stat-val">${totalHints}</span></div>
      ${topErrors.length?`<div class="error-words">Ğ¡Ğ»Ğ¾Ğ²Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ¸Ñ: ${topErrors.join(', ')}</div>`:''}
      <div style="margin-top:8px;font-size:13px;color:#2A6A3A;font-weight:700">ğŸ“ ${recommend}</div>
    </div>
  `+html;

  document.getElementById('reportContent').innerHTML = html;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MUTE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.getElementById('muteBtn').onclick = function() {
  G.muted = !G.muted;
  this.textContent = G.muted ? 'ğŸ”‡' : 'ğŸ”Š';
  if (G.muted) speechSynthesis.cancel();
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
initClouds();
</script>
</body>
</html>
